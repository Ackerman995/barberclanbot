
  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.3.3)

2024-10-13T12:32:02.935Z  INFO 1 --- [TelegramBotForPapaBlinov] [           main] .i.t.TelegramBotForPapaBlinovApplication : Starting TelegramBotForPapaBlinovApplication v0.0.1-SNAPSHOT using Java 17.0.12 with PID 1 (/opt/app/papa_blinov.jar started by root in /opt/app)
2024-10-13T12:32:02.943Z  INFO 1 --- [TelegramBotForPapaBlinov] [           main] .i.t.TelegramBotForPapaBlinovApplication : No active profile set, falling back to 1 default profile: "default"
2024-10-13T12:32:04.861Z  INFO 1 --- [TelegramBotForPapaBlinov] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-13T12:32:04.866Z  INFO 1 --- [TelegramBotForPapaBlinov] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-13T12:32:04.928Z  INFO 1 --- [TelegramBotForPapaBlinov] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 0 Redis repository interfaces.
2024-10-13T12:32:05.922Z  INFO 1 --- [TelegramBotForPapaBlinov] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8092 (http)
2024-10-13T12:32:05.942Z  INFO 1 --- [TelegramBotForPapaBlinov] [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-13T12:32:05.943Z  INFO 1 --- [TelegramBotForPapaBlinov] [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.28]
2024-10-13T12:32:06.005Z  INFO 1 --- [TelegramBotForPapaBlinov] [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-13T12:32:06.006Z  INFO 1 --- [TelegramBotForPapaBlinov] [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2927 ms
2024-10-13T12:32:07.516Z  INFO 1 --- [TelegramBotForPapaBlinov] [           main] c.i.t.c.TelegramWebhookConfiguration     : Команды успешно зарегистрированы: [BotCommand(command=/start, description=Запуск бота), BotCommand(command=/info, description=Общая информация о боте и компании), BotCommand(command=/question, description=Задать обычный вопрос), BotCommand(command=/search, description=Получить файлы по запросу), BotCommand(command=/clean_your_memory, description=Очистить память именно своей переписки с Chat GPT), BotCommand(command=/help, description=Если бот заболел)]
2024-10-13T12:32:10.336Z  INFO 1 --- [TelegramBotForPapaBlinov] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8092 (http) with context path '/'
2024-10-13T12:32:10.361Z  INFO 1 --- [TelegramBotForPapaBlinov] [           main] .i.t.TelegramBotForPapaBlinovApplication : Started TelegramBotForPapaBlinovApplication in 8.466 seconds (process running for 9.563)
2024-10-13T12:44:39.233Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-13T12:44:39.233Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-13T12:44:39.235Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-10-13T12:44:53.121Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-3] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562828999,
"message":{"message_id":595,"from":{"id":1743482294,"is_bot":false,"first_name":"Kirill","username":"gutorovk","language_code":"ru","is_premium":true},"chat":{"id":1743482294,"first_name":"Kirill","username":"gutorovk","type":"private"},"date":1728823447,"text":"/start","entities":[{"offset":0,"length":6,"type":"bot_command"}]}}
Webhook set response: {"ok":true,"result":true,"description":"Webhook was set"}
2024-10-13T12:44:53.268Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-3] c.i.t.s.impl.TriggersForBotServiceImpl   : Найдена команда: /start
2024-10-13T12:44:53.269Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-3] c.i.t.s.impl.TriggersForBotServiceImpl   : Обработка команды /start
2024-10-13T12:44:53.630Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-3] c.i.t.c.TelegramWebhookConfiguration     : Сообщение отправлено: Привет! Это бот компании "Папа Блинов". Наша компания специализируется на изгготовлении и продаже блинов и мы открыты к сотрудничеству.
Вы можете узнать больше о возможностях бота - нажав на команду информация.
Не стесняйтесь спрашивать! Хорошего дня!

2024-10-13T12:44:53.631Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-3] c.i.t.service.impl.TelegramServiceImpl   : Были оправлены сообщения команд в чат
2024-10-13T12:45:03.201Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829000,
"message":{"message_id":597,"from":{"id":1743482294,"is_bot":false,"first_name":"Kirill","username":"gutorovk","language_code":"ru","is_premium":true},"chat":{"id":1743482294,"first_name":"Kirill","username":"gutorovk","type":"private"},"date":1728823503,"text":"Fgg"}}
2024-10-13T12:45:03.208Z ERROR 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at java.base/java.util.Objects.requireNonNull(Unknown Source) ~[na:na]
	at com.ivan_degtev.telegrambotforpapablinov.service.impl.RedisServiceImpl.getUserRequestType(RedisServiceImpl.java:48) ~[!/:0.0.1-SNAPSHOT]
	at com.ivan_degtev.telegrambotforpapablinov.service.ai.ProcessingRegularRequestsService.createRequestGetResponse(ProcessingRegularRequestsService.java:85) ~[!/:0.0.1-SNAPSHOT]
	at com.ivan_degtev.telegrambotforpapablinov.service.ai.OpenAiServiceImpl.getAnswerFromLlm(OpenAiServiceImpl.java:22) ~[!/:0.0.1-SNAPSHOT]
	at com.ivan_degtev.telegrambotforpapablinov.service.impl.TelegramServiceImpl.getNewMessagesFromWebhook(TelegramServiceImpl.java:52) ~[!/:0.0.1-SNAPSHOT]
	at com.ivan_degtev.telegrambotforpapablinov.controller.WebhookController.handleWebhook(WebhookController.java:29) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.12.jar!/:6.1.12]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.12.jar!/:6.1.12]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.12.jar!/:6.1.12]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.12.jar!/:6.1.12]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.12.jar!/:6.1.12]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.12.jar!/:6.1.12]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.12.jar!/:6.1.12]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.12.jar!/:6.1.12]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.12.jar!/:6.1.12]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.12.jar!/:6.1.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.12.jar!/:6.1.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.28.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.12.jar!/:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar!/:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.12.jar!/:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar!/:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.12.jar!/:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar!/:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at java.base/java.lang.Thread.run(Unknown Source) ~[na:na]

2024-10-13T12:45:03.281Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-5] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829000,
"message":{"message_id":597,"from":{"id":1743482294,"is_bot":false,"first_name":"Kirill","username":"gutorovk","language_code":"ru","is_premium":true},"chat":{"id":1743482294,"first_name":"Kirill","username":"gutorovk","type":"private"},"date":1728823503,"text":"Fgg"}}
2024-10-13T12:45:03.282Z  WARN 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-5] c.i.t.service.impl.TelegramServiceImpl   : Дубликат update_id: 562829000. Сообщение будет проигнорировано.
2024-10-13T12:45:11.470Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-6] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829001,
"message":{"message_id":598,"from":{"id":1743482294,"is_bot":false,"first_name":"Kirill","username":"gutorovk","language_code":"ru","is_premium":true},"chat":{"id":1743482294,"first_name":"Kirill","username":"gutorovk","type":"private"},"date":1728823511,"text":"/question","entities":[{"offset":0,"length":9,"type":"bot_command"}]}}
2024-10-13T12:45:11.472Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-6] c.i.t.s.impl.TriggersForBotServiceImpl   : Найдена команда: /question
2024-10-13T12:45:11.472Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-6] c.i.t.s.impl.TriggersForBotServiceImpl   : Обработка команды /question
2024-10-13T12:45:11.476Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-6] c.i.t.service.impl.RedisServiceImpl      : Сохранен тип запроса для пользователя 1743482294: REGULAR
2024-10-13T12:45:11.624Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-6] c.i.t.c.TelegramWebhookConfiguration     : Сообщение отправлено: Вы переключились в режим обычных вопросов. В этом режиме бот будет отвечать текстом на ваши вопросы, использую внутреннюю документацию компании
"Папа Блинов". Вы также можете задать любой другой вопрос и бот ответит в рамках возможнолостей LLM-модели Chat-GPT 4. Для переключения в режим поиска файлов
компании - используйте команду /search

2024-10-13T12:45:11.625Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-6] c.i.t.service.impl.TelegramServiceImpl   : Были оправлены сообщения команд в чат
2024-10-13T12:45:15.315Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-7] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829002,
"message":{"message_id":600,"from":{"id":1743482294,"is_bot":false,"first_name":"Kirill","username":"gutorovk","language_code":"ru","is_premium":true},"chat":{"id":1743482294,"first_name":"Kirill","username":"gutorovk","type":"private"},"date":1728823515,"text":"How are you"}}
2024-10-13T12:45:15.336Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-7] c.i.t.service.impl.RedisServiceImpl      : Найден тип запроса для пользователя 1743482294: REGULAR
2024-10-13T12:45:15.820Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-7] c.i.t.service.impl.RedisServiceImpl      : Получил данные о кол-ве сообщений у конкретного юзера с id 1743482294 в треде из редиса null
2024-10-13T12:45:15.821Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-7] i.t.s.a.ProcessingRegularRequestsService : Получил в сервис данные о кол-ве сообщений в треде и замапил в инт 0
2024-10-13T12:45:16.079Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-7] i.t.s.a.ProcessingRegularRequestsService : Running thread with ID: thread_MmeCnjwyr9z5CnzoIlXuNylE
2024-10-13T12:45:20.012Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-7] i.t.s.a.ProcessingRegularRequestsService : Получил ответ от ллм по сути вопроса замапленный: Спасибо за вопрос! Я здесь, чтобы помочь вам с любыми вопросами или информацией, касающейся сети кафе-блинных "Папа Блинов". Как я могу вам помочь сегодня?
2024-10-13T12:45:20.136Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-7] c.i.t.c.TelegramWebhookConfiguration     : Сообщение отправлено: Спасибо за вопрос! Я здесь, чтобы помочь вам с любыми вопросами или информацией, касающейся сети кафе-блинных "Папа Блинов". Как я могу вам помочь сегодня?
2024-10-13T12:45:20.137Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-7] c.i.t.service.impl.TelegramServiceImpl   : Команд не было в сообщение - оно ушло в обработку LLM How are you
2024-10-13T12:45:20.138Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-7] c.i.t.service.impl.TelegramServiceImpl   : Были оправлены сообщения команд в чат
2024-10-13T12:46:11.917Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829003,
"my_chat_member":{"chat":{"id":-4224755692,"title":"testing_bots","type":"group","all_members_are_administrators":true},"from":{"id":1743482294,"is_bot":false,"first_name":"Kirill","username":"gutorovk","language_code":"ru","is_premium":true},"date":1728823571,"old_chat_member":{"user":{"id":6815728538,"is_bot":true,"first_name":"PapaBlinovBot","username":"PapaBlinovBot"},"status":"left"},"new_chat_member":{"user":{"id":6815728538,"is_bot":true,"first_name":"PapaBlinovBot","username":"PapaBlinovBot"},"status":"member"}}}
2024-10-13T12:46:11.956Z  WARN 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] c.i.t.service.impl.TelegramServiceImpl   : Не удалось обработать сообщение для следующей отправке в LLM: отсутствует поле message WebhookPayloadDto(updateId=562829003, message=null, myChatMember=WebhookPayloadDto.ChatMemberUpdateDto(chat=WebhookPayloadDto.ChatDto(id=-4224755692, firstName=null, lastName=null, username=null, type=group, title=testing_bots, isPremium=null, allMembersAreAdministrators=true), from=WebhookPayloadDto.UserDto(id=1743482294, isBot=false, firstName=Kirill, lastName=null, username=gutorovk, languageCode=ru, isPremium=true), date=1728823571, oldChatMember=WebhookPayloadDto.ChatMemberDto(user=WebhookPayloadDto.UserDto(id=6815728538, isBot=true, firstName=PapaBlinovBot, lastName=null, username=PapaBlinovBot, languageCode=null, isPremium=null), status=left, isPremium=null, canBeEdited=null, canManageChat=null, canChangeInfo=null, canDeleteMessages=null, canInviteUsers=null, canRestrictMembers=null, canPinMessages=null, canManageTopics=null, canPromoteMembers=null, canManageVideoChats=null, canPostStories=null, canEditStories=null, canDeleteStories=null, isAnonymous=null, canManageVoiceChats=null, customTitle=null), newChatMember=WebhookPayloadDto.ChatMemberDto(user=WebhookPayloadDto.UserDto(id=6815728538, isBot=true, firstName=PapaBlinovBot, lastName=null, username=PapaBlinovBot, languageCode=null, isPremium=null), status=member, isPremium=null, canBeEdited=null, canManageChat=null, canChangeInfo=null, canDeleteMessages=null, canInviteUsers=null, canRestrictMembers=null, canPinMessages=null, canManageTopics=null, canPromoteMembers=null, canManageVideoChats=null, canPostStories=null, canEditStories=null, canDeleteStories=null, isAnonymous=null, canManageVoiceChats=null, customTitle=null)), migrateFromChatId=null, senderChat=null)
2024-10-13T12:46:11.992Z  INFO 1 --- [TelegramBotForPapaBlinov] [io-8092-exec-10] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829004,
"message":{"message_id":602,"from":{"id":1743482294,"is_bot":false,"first_name":"Kirill","username":"gutorovk","language_code":"ru","is_premium":true},"chat":{"id":-4224755692,"title":"testing_bots","type":"group","all_members_are_administrators":true},"date":1728823571,"new_chat_participant":{"id":6815728538,"is_bot":true,"first_name":"PapaBlinovBot","username":"PapaBlinovBot"},"new_chat_member":{"id":6815728538,"is_bot":true,"first_name":"PapaBlinovBot","username":"PapaBlinovBot"},"new_chat_members":[{"id":6815728538,"is_bot":true,"first_name":"PapaBlinovBot","username":"PapaBlinovBot"}]}}
2024-10-13T12:46:12.005Z  INFO 1 --- [TelegramBotForPapaBlinov] [io-8092-exec-10] c.i.t.service.impl.TelegramServiceImpl   : Получено сообщение без текста или это системное сообщение. WebhookPayloadDto(updateId=562829004, message=WebhookPayloadDto.MessageDto(messageId=602, from=WebhookPayloadDto.UserDto(id=1743482294, isBot=false, firstName=Kirill, lastName=null, username=gutorovk, languageCode=ru, isPremium=true), chat=WebhookPayloadDto.ChatDto(id=-4224755692, firstName=null, lastName=null, username=null, type=group, title=testing_bots, isPremium=null, allMembersAreAdministrators=true), date=1728823571, text=null, entities=null, linkPreviewOptions=null, messageThreadId=null, replyToMessage=null, document=null, newChatParticipant=WebhookPayloadDto.UserDto(id=6815728538, isBot=true, firstName=PapaBlinovBot, lastName=null, username=PapaBlinovBot, languageCode=null, isPremium=null), newChatMember=WebhookPayloadDto.UserDto(id=6815728538, isBot=true, firstName=PapaBlinovBot, lastName=null, username=PapaBlinovBot, languageCode=null, isPremium=null), leftChatParticipant=null, leftChatMember=null, newChatMembers=[WebhookPayloadDto.UserDto(id=6815728538, isBot=true, firstName=PapaBlinovBot, lastName=null, username=PapaBlinovBot, languageCode=null, isPremium=null)]), myChatMember=null, migrateFromChatId=null, senderChat=null)
2024-10-13T12:46:21.373Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-1] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829005,
"message":{"message_id":603,"from":{"id":1743482294,"is_bot":false,"first_name":"Kirill","username":"gutorovk","language_code":"ru","is_premium":true},"chat":{"id":-4224755692,"title":"testing_bots","type":"group","all_members_are_administrators":true},"date":1728823581,"text":"/start@PapaBlinovBot","entities":[{"offset":0,"length":20,"type":"bot_command"}]}}
2024-10-13T12:46:21.375Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-1] c.i.t.s.impl.TriggersForBotServiceImpl   : Найдена команда: /start
2024-10-13T12:46:21.376Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-1] c.i.t.s.impl.TriggersForBotServiceImpl   : Обработка команды /start
2024-10-13T12:46:21.512Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-1] c.i.t.c.TelegramWebhookConfiguration     : Сообщение отправлено: Привет! Это бот компании "Папа Блинов". Наша компания специализируется на изгготовлении и продаже блинов и мы открыты к сотрудничеству.
Вы можете узнать больше о возможностях бота - нажав на команду информация.
Не стесняйтесь спрашивать! Хорошего дня!

2024-10-13T12:46:21.514Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-1] c.i.t.service.impl.TelegramServiceImpl   : Были оправлены сообщения команд в чат
2024-10-13T12:46:36.679Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-2] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829006,
"message":{"message_id":605,"from":{"id":1743482294,"is_bot":false,"first_name":"Kirill","username":"gutorovk","language_code":"ru","is_premium":true},"chat":{"id":-4224755692,"title":"testing_bots","type":"group","all_members_are_administrators":true},"date":1728823596,"text":"/question@PapaBlinovBot","entities":[{"offset":0,"length":23,"type":"bot_command"}]}}
2024-10-13T12:46:36.681Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-2] c.i.t.s.impl.TriggersForBotServiceImpl   : Найдена команда: /question
2024-10-13T12:46:36.682Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-2] c.i.t.s.impl.TriggersForBotServiceImpl   : Обработка команды /question
2024-10-13T12:46:36.683Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-2] c.i.t.service.impl.RedisServiceImpl      : Сохранен тип запроса для пользователя 1743482294: REGULAR
2024-10-13T12:46:36.730Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-2] c.i.t.c.TelegramWebhookConfiguration     : Сообщение отправлено: Вы переключились в режим обычных вопросов. В этом режиме бот будет отвечать текстом на ваши вопросы, использую внутреннюю документацию компании
"Папа Блинов". Вы также можете задать любой другой вопрос и бот ответит в рамках возможнолостей LLM-модели Chat-GPT 4. Для переключения в режим поиска файлов
компании - используйте команду /search

2024-10-13T12:46:36.730Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-2] c.i.t.service.impl.TelegramServiceImpl   : Были оправлены сообщения команд в чат
2024-10-13T12:48:22.387Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829007,
"message":{"message_id":607,"from":{"id":1743482294,"is_bot":false,"first_name":"Kirill","username":"gutorovk","language_code":"ru","is_premium":true},"chat":{"id":-4224755692,"title":"testing_bots","type":"group","all_members_are_administrators":true},"date":1728823702,"text":"/search@PapaBlinovBot","entities":[{"offset":0,"length":21,"type":"bot_command"}]}}
2024-10-13T12:48:22.393Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] c.i.t.s.impl.TriggersForBotServiceImpl   : Найдена команда: /search
2024-10-13T12:48:22.393Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] c.i.t.s.impl.TriggersForBotServiceImpl   : Обработка команды /search
2024-10-13T12:48:22.394Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] c.i.t.service.impl.RedisServiceImpl      : Сохранен тип запроса для пользователя 1743482294: SEARCH
2024-10-13T12:48:22.607Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] c.i.t.c.TelegramWebhookConfiguration     : Сообщение отправлено:             Вы переключились в режим выдачи файлов. В этом режиме бот будет только отправлять вам внутренние файлы компании "Папа Блинов".
            Бот будет выдывать вам файлы, наиболее близкие по контексту вашего запроса. Пожалуйста, формулируйте ваш запрос более подходяще для поиска.
            Чтобы задать любой другой вопрос и получить ответ в текстовом формате, переключитесь  в режим обычных запросов - используйте команду /question

2024-10-13T12:48:22.608Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] c.i.t.service.impl.TelegramServiceImpl   : Были оправлены сообщения команд в чат
2024-10-13T12:48:27.260Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-5] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829008,
"message":{"message_id":609,"from":{"id":1743482294,"is_bot":false,"first_name":"Kirill","username":"gutorovk","language_code":"ru","is_premium":true},"chat":{"id":-4224755692,"title":"testing_bots","type":"group","all_members_are_administrators":true},"date":1728823707,"text":"/question@PapaBlinovBot","entities":[{"offset":0,"length":23,"type":"bot_command"}]}}
2024-10-13T12:48:27.265Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-5] c.i.t.s.impl.TriggersForBotServiceImpl   : Найдена команда: /question
2024-10-13T12:48:27.267Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-5] c.i.t.s.impl.TriggersForBotServiceImpl   : Обработка команды /question
2024-10-13T12:48:27.270Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-5] c.i.t.service.impl.RedisServiceImpl      : Сохранен тип запроса для пользователя 1743482294: REGULAR
2024-10-13T12:48:27.397Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-5] c.i.t.c.TelegramWebhookConfiguration     : Сообщение отправлено: Вы переключились в режим обычных вопросов. В этом режиме бот будет отвечать текстом на ваши вопросы, использую внутреннюю документацию компании
"Папа Блинов". Вы также можете задать любой другой вопрос и бот ответит в рамках возможнолостей LLM-модели Chat-GPT 4. Для переключения в режим поиска файлов
компании - используйте команду /search

2024-10-13T12:48:27.397Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-5] c.i.t.service.impl.TelegramServiceImpl   : Были оправлены сообщения команд в чат
2024-10-13T12:55:54.875Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-7] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829009,
"message":{"message_id":611,"from":{"id":1743482294,"is_bot":false,"first_name":"Kirill","username":"gutorovk","language_code":"ru","is_premium":true},"chat":{"id":-4224755692,"title":"testing_bots","type":"group","all_members_are_administrators":true},"date":1728824154,"text":"/start@PapaBlinovBot","entities":[{"offset":0,"length":20,"type":"bot_command"}]}}
2024-10-13T12:55:54.880Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-7] c.i.t.s.impl.TriggersForBotServiceImpl   : Найдена команда: /start
2024-10-13T12:55:54.882Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-7] c.i.t.s.impl.TriggersForBotServiceImpl   : Обработка команды /start
2024-10-13T12:55:55.007Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-7] c.i.t.c.TelegramWebhookConfiguration     : Сообщение отправлено: Привет! Это бот компании "Папа Блинов". Наша компания специализируется на изгготовлении и продаже блинов и мы открыты к сотрудничеству.
Вы можете узнать больше о возможностях бота - нажав на команду информация.
Не стесняйтесь спрашивать! Хорошего дня!

2024-10-13T12:55:55.008Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-7] c.i.t.service.impl.TelegramServiceImpl   : Были оправлены сообщения команд в чат
2024-10-13T12:56:00.380Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829010,
"message":{"message_id":613,"from":{"id":1743482294,"is_bot":false,"first_name":"Kirill","username":"gutorovk","language_code":"ru","is_premium":true},"chat":{"id":-4224755692,"title":"testing_bots","type":"group","all_members_are_administrators":true},"date":1728824160,"text":"/question@PapaBlinovBot","entities":[{"offset":0,"length":23,"type":"bot_command"}]}}
2024-10-13T12:56:00.387Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] c.i.t.s.impl.TriggersForBotServiceImpl   : Найдена команда: /question
2024-10-13T12:56:00.387Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] c.i.t.s.impl.TriggersForBotServiceImpl   : Обработка команды /question
2024-10-13T12:56:00.388Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] c.i.t.service.impl.RedisServiceImpl      : Сохранен тип запроса для пользователя 1743482294: REGULAR
2024-10-13T12:56:00.462Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] c.i.t.c.TelegramWebhookConfiguration     : Сообщение отправлено: Вы переключились в режим обычных вопросов. В этом режиме бот будет отвечать текстом на ваши вопросы, использую внутреннюю документацию компании
"Папа Блинов". Вы также можете задать любой другой вопрос и бот ответит в рамках возможнолостей LLM-модели Chat-GPT 4. Для переключения в режим поиска файлов
компании - используйте команду /search

2024-10-13T12:56:00.464Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] c.i.t.service.impl.TelegramServiceImpl   : Были оправлены сообщения команд в чат
2024-10-13T13:01:57.957Z  INFO 1 --- [TelegramBotForPapaBlinov] [io-8092-exec-10] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829011,
"message":{"message_id":615,"from":{"id":1743482294,"is_bot":false,"first_name":"Kirill","username":"gutorovk","language_code":"ru","is_premium":true},"chat":{"id":-4224755692,"title":"testing_bots","type":"group","all_members_are_administrators":true},"date":1728824517,"left_chat_participant":{"id":6930502914,"is_bot":true,"first_name":"test_bot","username":"atta_boy_bot"},"left_chat_member":{"id":6930502914,"is_bot":true,"first_name":"test_bot","username":"atta_boy_bot"}}}
2024-10-13T13:01:57.968Z  INFO 1 --- [TelegramBotForPapaBlinov] [io-8092-exec-10] c.i.t.service.impl.TelegramServiceImpl   : Получено сообщение без текста или это системное сообщение. WebhookPayloadDto(updateId=562829011, message=WebhookPayloadDto.MessageDto(messageId=615, from=WebhookPayloadDto.UserDto(id=1743482294, isBot=false, firstName=Kirill, lastName=null, username=gutorovk, languageCode=ru, isPremium=true), chat=WebhookPayloadDto.ChatDto(id=-4224755692, firstName=null, lastName=null, username=null, type=group, title=testing_bots, isPremium=null, allMembersAreAdministrators=true), date=1728824517, text=null, entities=null, linkPreviewOptions=null, messageThreadId=null, replyToMessage=null, document=null, newChatParticipant=null, newChatMember=null, leftChatParticipant=WebhookPayloadDto.UserDto(id=6930502914, isBot=true, firstName=test_bot, lastName=null, username=atta_boy_bot, languageCode=null, isPremium=null), leftChatMember=WebhookPayloadDto.UserDto(id=6930502914, isBot=true, firstName=test_bot, lastName=null, username=atta_boy_bot, languageCode=null, isPremium=null), newChatMembers=null), myChatMember=null, migrateFromChatId=null, senderChat=null)
2024-10-13T13:05:03.547Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-2] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829012,
"my_chat_member":{"chat":{"id":-4224755692,"title":"testing_bots","type":"group","all_members_are_administrators":true},"from":{"id":1743482294,"is_bot":false,"first_name":"Kirill","username":"gutorovk","language_code":"ru","is_premium":true},"date":1728824703,"old_chat_member":{"user":{"id":6815728538,"is_bot":true,"first_name":"PapaBlinovBot","username":"PapaBlinovBot"},"status":"member"},"new_chat_member":{"user":{"id":6815728538,"is_bot":true,"first_name":"PapaBlinovBot","username":"PapaBlinovBot"},"status":"left"}}}
2024-10-13T13:05:03.547Z  WARN 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-2] c.i.t.service.impl.TelegramServiceImpl   : Не удалось обработать сообщение для следующей отправке в LLM: отсутствует поле message WebhookPayloadDto(updateId=562829012, message=null, myChatMember=WebhookPayloadDto.ChatMemberUpdateDto(chat=WebhookPayloadDto.ChatDto(id=-4224755692, firstName=null, lastName=null, username=null, type=group, title=testing_bots, isPremium=null, allMembersAreAdministrators=true), from=WebhookPayloadDto.UserDto(id=1743482294, isBot=false, firstName=Kirill, lastName=null, username=gutorovk, languageCode=ru, isPremium=true), date=1728824703, oldChatMember=WebhookPayloadDto.ChatMemberDto(user=WebhookPayloadDto.UserDto(id=6815728538, isBot=true, firstName=PapaBlinovBot, lastName=null, username=PapaBlinovBot, languageCode=null, isPremium=null), status=member, isPremium=null, canBeEdited=null, canManageChat=null, canChangeInfo=null, canDeleteMessages=null, canInviteUsers=null, canRestrictMembers=null, canPinMessages=null, canManageTopics=null, canPromoteMembers=null, canManageVideoChats=null, canPostStories=null, canEditStories=null, canDeleteStories=null, isAnonymous=null, canManageVoiceChats=null, customTitle=null), newChatMember=WebhookPayloadDto.ChatMemberDto(user=WebhookPayloadDto.UserDto(id=6815728538, isBot=true, firstName=PapaBlinovBot, lastName=null, username=PapaBlinovBot, languageCode=null, isPremium=null), status=left, isPremium=null, canBeEdited=null, canManageChat=null, canChangeInfo=null, canDeleteMessages=null, canInviteUsers=null, canRestrictMembers=null, canPinMessages=null, canManageTopics=null, canPromoteMembers=null, canManageVideoChats=null, canPostStories=null, canEditStories=null, canDeleteStories=null, isAnonymous=null, canManageVoiceChats=null, customTitle=null)), migrateFromChatId=null, senderChat=null)
2024-10-13T13:05:03.581Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-3] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829013,
"message":{"message_id":616,"from":{"id":1743482294,"is_bot":false,"first_name":"Kirill","username":"gutorovk","language_code":"ru","is_premium":true},"chat":{"id":-4224755692,"title":"testing_bots","type":"group","all_members_are_administrators":true},"date":1728824703,"left_chat_participant":{"id":6815728538,"is_bot":true,"first_name":"PapaBlinovBot","username":"PapaBlinovBot"},"left_chat_member":{"id":6815728538,"is_bot":true,"first_name":"PapaBlinovBot","username":"PapaBlinovBot"}}}
2024-10-13T13:05:03.585Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-3] c.i.t.service.impl.TelegramServiceImpl   : Получено сообщение без текста или это системное сообщение. WebhookPayloadDto(updateId=562829013, message=WebhookPayloadDto.MessageDto(messageId=616, from=WebhookPayloadDto.UserDto(id=1743482294, isBot=false, firstName=Kirill, lastName=null, username=gutorovk, languageCode=ru, isPremium=true), chat=WebhookPayloadDto.ChatDto(id=-4224755692, firstName=null, lastName=null, username=null, type=group, title=testing_bots, isPremium=null, allMembersAreAdministrators=true), date=1728824703, text=null, entities=null, linkPreviewOptions=null, messageThreadId=null, replyToMessage=null, document=null, newChatParticipant=null, newChatMember=null, leftChatParticipant=WebhookPayloadDto.UserDto(id=6815728538, isBot=true, firstName=PapaBlinovBot, lastName=null, username=PapaBlinovBot, languageCode=null, isPremium=null), leftChatMember=WebhookPayloadDto.UserDto(id=6815728538, isBot=true, firstName=PapaBlinovBot, lastName=null, username=PapaBlinovBot, languageCode=null, isPremium=null), newChatMembers=null), myChatMember=null, migrateFromChatId=null, senderChat=null)
2024-10-13T13:05:46.402Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829014,
"my_chat_member":{"chat":{"id":-4224755692,"title":"testing_bots","type":"group","all_members_are_administrators":true},"from":{"id":1743482294,"is_bot":false,"first_name":"Kirill","username":"gutorovk","language_code":"ru","is_premium":true},"date":1728824746,"old_chat_member":{"user":{"id":6815728538,"is_bot":true,"first_name":"PapaBlinovBot","username":"PapaBlinovBot"},"status":"left"},"new_chat_member":{"user":{"id":6815728538,"is_bot":true,"first_name":"PapaBlinovBot","username":"PapaBlinovBot"},"status":"member"}}}
2024-10-13T13:05:46.402Z  WARN 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] c.i.t.service.impl.TelegramServiceImpl   : Не удалось обработать сообщение для следующей отправке в LLM: отсутствует поле message WebhookPayloadDto(updateId=562829014, message=null, myChatMember=WebhookPayloadDto.ChatMemberUpdateDto(chat=WebhookPayloadDto.ChatDto(id=-4224755692, firstName=null, lastName=null, username=null, type=group, title=testing_bots, isPremium=null, allMembersAreAdministrators=true), from=WebhookPayloadDto.UserDto(id=1743482294, isBot=false, firstName=Kirill, lastName=null, username=gutorovk, languageCode=ru, isPremium=true), date=1728824746, oldChatMember=WebhookPayloadDto.ChatMemberDto(user=WebhookPayloadDto.UserDto(id=6815728538, isBot=true, firstName=PapaBlinovBot, lastName=null, username=PapaBlinovBot, languageCode=null, isPremium=null), status=left, isPremium=null, canBeEdited=null, canManageChat=null, canChangeInfo=null, canDeleteMessages=null, canInviteUsers=null, canRestrictMembers=null, canPinMessages=null, canManageTopics=null, canPromoteMembers=null, canManageVideoChats=null, canPostStories=null, canEditStories=null, canDeleteStories=null, isAnonymous=null, canManageVoiceChats=null, customTitle=null), newChatMember=WebhookPayloadDto.ChatMemberDto(user=WebhookPayloadDto.UserDto(id=6815728538, isBot=true, firstName=PapaBlinovBot, lastName=null, username=PapaBlinovBot, languageCode=null, isPremium=null), status=member, isPremium=null, canBeEdited=null, canManageChat=null, canChangeInfo=null, canDeleteMessages=null, canInviteUsers=null, canRestrictMembers=null, canPinMessages=null, canManageTopics=null, canPromoteMembers=null, canManageVideoChats=null, canPostStories=null, canEditStories=null, canDeleteStories=null, isAnonymous=null, canManageVoiceChats=null, customTitle=null)), migrateFromChatId=null, senderChat=null)
2024-10-13T13:05:46.436Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-5] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829015,
"message":{"message_id":617,"from":{"id":1743482294,"is_bot":false,"first_name":"Kirill","username":"gutorovk","language_code":"ru","is_premium":true},"chat":{"id":-4224755692,"title":"testing_bots","type":"group","all_members_are_administrators":true},"date":1728824746,"new_chat_participant":{"id":6815728538,"is_bot":true,"first_name":"PapaBlinovBot","username":"PapaBlinovBot"},"new_chat_member":{"id":6815728538,"is_bot":true,"first_name":"PapaBlinovBot","username":"PapaBlinovBot"},"new_chat_members":[{"id":6815728538,"is_bot":true,"first_name":"PapaBlinovBot","username":"PapaBlinovBot"}]}}
2024-10-13T13:05:46.438Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-5] c.i.t.service.impl.TelegramServiceImpl   : Получено сообщение без текста или это системное сообщение. WebhookPayloadDto(updateId=562829015, message=WebhookPayloadDto.MessageDto(messageId=617, from=WebhookPayloadDto.UserDto(id=1743482294, isBot=false, firstName=Kirill, lastName=null, username=gutorovk, languageCode=ru, isPremium=true), chat=WebhookPayloadDto.ChatDto(id=-4224755692, firstName=null, lastName=null, username=null, type=group, title=testing_bots, isPremium=null, allMembersAreAdministrators=true), date=1728824746, text=null, entities=null, linkPreviewOptions=null, messageThreadId=null, replyToMessage=null, document=null, newChatParticipant=WebhookPayloadDto.UserDto(id=6815728538, isBot=true, firstName=PapaBlinovBot, lastName=null, username=PapaBlinovBot, languageCode=null, isPremium=null), newChatMember=WebhookPayloadDto.UserDto(id=6815728538, isBot=true, firstName=PapaBlinovBot, lastName=null, username=PapaBlinovBot, languageCode=null, isPremium=null), leftChatParticipant=null, leftChatMember=null, newChatMembers=[WebhookPayloadDto.UserDto(id=6815728538, isBot=true, firstName=PapaBlinovBot, lastName=null, username=PapaBlinovBot, languageCode=null, isPremium=null)]), myChatMember=null, migrateFromChatId=null, senderChat=null)
2024-10-17T11:03:54.511Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-7] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829016,
"message":{"message_id":618,"from":{"id":656703215,"is_bot":false,"first_name":"\u041a\u0438\u0440\u0438\u043b\u043b","last_name":"\u0417\u043e\u0440\u0438\u043d\u043e\u0432","username":"kirill_zorinov","language_code":"en","is_premium":true},"chat":{"id":-4595523366,"title":"\u0422\u0435\u0441\u0442 \u0433\u0440\u0443\u043f\u043f\u0430","type":"group","all_members_are_administrators":true},"date":1729163034,"text":"/start@PapaBlinovBot","entities":[{"offset":0,"length":20,"type":"bot_command"}]}}
2024-10-17T11:03:54.538Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-7] c.i.t.s.impl.TriggersForBotServiceImpl   : Найдена команда: /start
2024-10-17T11:03:54.539Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-7] c.i.t.s.impl.TriggersForBotServiceImpl   : Обработка команды /start
2024-10-17T11:03:54.656Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-7] c.i.t.c.TelegramWebhookConfiguration     : Сообщение отправлено: Привет! Это бот компании "Папа Блинов". Наша компания специализируется на изгготовлении и продаже блинов и мы открыты к сотрудничеству.
Вы можете узнать больше о возможностях бота - нажав на команду информация.
Не стесняйтесь спрашивать! Хорошего дня!

2024-10-17T11:03:54.656Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-7] c.i.t.service.impl.TelegramServiceImpl   : Были оправлены сообщения команд в чат
2024-10-17T11:04:00.385Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829017,
"message":{"message_id":620,"from":{"id":656703215,"is_bot":false,"first_name":"\u041a\u0438\u0440\u0438\u043b\u043b","last_name":"\u0417\u043e\u0440\u0438\u043d\u043e\u0432","username":"kirill_zorinov","language_code":"en","is_premium":true},"chat":{"id":-4595523366,"title":"\u0422\u0435\u0441\u0442 \u0433\u0440\u0443\u043f\u043f\u0430","type":"group","all_members_are_administrators":true},"date":1729163040,"text":"/question@PapaBlinovBot","entities":[{"offset":0,"length":23,"type":"bot_command"}]}}
2024-10-17T11:04:00.386Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] c.i.t.s.impl.TriggersForBotServiceImpl   : Найдена команда: /question
2024-10-17T11:04:00.387Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] c.i.t.s.impl.TriggersForBotServiceImpl   : Обработка команды /question
2024-10-17T11:04:00.388Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] c.i.t.service.impl.RedisServiceImpl      : Сохранен тип запроса для пользователя 656703215: REGULAR
2024-10-17T11:04:00.436Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] c.i.t.c.TelegramWebhookConfiguration     : Сообщение отправлено: Вы переключились в режим обычных вопросов. В этом режиме бот будет отвечать текстом на ваши вопросы, использую внутреннюю документацию компании
"Папа Блинов". Вы также можете задать любой другой вопрос и бот ответит в рамках возможнолостей LLM-модели Chat-GPT 4. Для переключения в режим поиска файлов
компании - используйте команду /search

2024-10-17T11:04:00.436Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] c.i.t.service.impl.TelegramServiceImpl   : Были оправлены сообщения команд в чат
2024-10-17T11:04:19.233Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829018,
"message":{"message_id":622,"from":{"id":656703215,"is_bot":false,"first_name":"\u041a\u0438\u0440\u0438\u043b\u043b","last_name":"\u0417\u043e\u0440\u0438\u043d\u043e\u0432","username":"kirill_zorinov","language_code":"en","is_premium":true},"chat":{"id":-4595523366,"title":"\u0422\u0435\u0441\u0442 \u0433\u0440\u0443\u043f\u043f\u0430","type":"group","all_members_are_administrators":true},"date":1729163059,"reply_to_message":{"message_id":621,"from":{"id":6815728538,"is_bot":true,"first_name":"PapaBlinovBot","username":"PapaBlinovBot"},"chat":{"id":-4595523366,"title":"\u0422\u0435\u0441\u0442 \u0433\u0440\u0443\u043f\u043f\u0430","type":"group","all_members_are_administrators":true},"date":1729163040,"text":"\u0412\u044b \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u043b\u0438\u0441\u044c \u0432 \u0440\u0435\u0436\u0438\u043c \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432. \u0412 \u044d\u0442\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435 \u0431\u043e\u0442 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u0432\u0435\u0447\u0430\u0442\u044c \u0442\u0435\u043a\u0441\u0442\u043e\u043c \u043d\u0430 \u0432\u0430\u0448\u0438 \u0432\u043e\u043f\u0440\u043e\u0441\u044b, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044e\u044e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044e \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438\n\"\u041f\u0430\u043f\u0430 \u0411\u043b\u0438\u043d\u043e\u0432\". \u0412\u044b \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u0434\u0430\u0442\u044c \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u0432\u043e\u043f\u0440\u043e\u0441 \u0438 \u0431\u043e\u0442 \u043e\u0442\u0432\u0435\u0442\u0438\u0442 \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u043b\u043e\u0441\u0442\u0435\u0439 LLM-\u043c\u043e\u0434\u0435\u043b\u0438 Chat-GPT 4. \u0414\u043b\u044f \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0432 \u0440\u0435\u0436\u0438\u043c \u043f\u043e\u0438\u0441\u043a\u0430 \u0444\u0430\u0439\u043b\u043e\u0432\n\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 - \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 /search","entities":[{"offset":333,"length":7,"type":"bot_command"}]},"text":"\u041f\u0440\u0438\u0432\u0435\u0442, \u043a\u0430\u043a \u0434\u0435\u043b\u0430?"}}
2024-10-17T11:04:19.238Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] c.i.t.service.impl.RedisServiceImpl      : Найден тип запроса для пользователя 656703215: REGULAR
2024-10-17T11:04:20.090Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] c.i.t.service.impl.RedisServiceImpl      : Получил данные о кол-ве сообщений у конкретного юзера с id 656703215 в треде из редиса null
2024-10-17T11:04:20.090Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] i.t.s.a.ProcessingRegularRequestsService : Получил в сервис данные о кол-ве сообщений в треде и замапил в инт 0
2024-10-17T11:04:21.175Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] i.t.s.a.ProcessingRegularRequestsService : Running thread with ID: thread_JDWVuFNYmEsjLM4ugrLQMef2
2024-10-17T11:04:29.285Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] i.t.s.a.ProcessingRegularRequestsService : Получил ответ от ллм по сути вопроса замапленный: Здравствуйте! У меня всё отлично, спасибо. Как я могу вам помочь сегодня?
2024-10-17T11:04:29.437Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] c.i.t.c.TelegramWebhookConfiguration     : Сообщение отправлено: Здравствуйте! У меня всё отлично, спасибо. Как я могу вам помочь сегодня?
2024-10-17T11:04:29.437Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] c.i.t.service.impl.TelegramServiceImpl   : Команд не было в сообщение - оно ушло в обработку LLM Привет, как дела?
2024-10-17T11:04:29.437Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] c.i.t.service.impl.TelegramServiceImpl   : Были оправлены сообщения команд в чат
2024-10-18T02:44:26.207Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-1] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829019,
"message":{"message_id":624,"from":{"id":656703215,"is_bot":false,"first_name":"\u041a\u0438\u0440\u0438\u043b\u043b","last_name":"\u0417\u043e\u0440\u0438\u043d\u043e\u0432","username":"kirill_zorinov","language_code":"en","is_premium":true},"chat":{"id":-4595523366,"title":"\u0422\u0435\u0441\u0442 \u0433\u0440\u0443\u043f\u043f\u0430","type":"group","all_members_are_administrators":true},"date":1729219466,"text":"/question@PapaBlinovBot","entities":[{"offset":0,"length":23,"type":"bot_command"}]}}
2024-10-18T02:44:26.217Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-1] c.i.t.s.impl.TriggersForBotServiceImpl   : Найдена команда: /question
2024-10-18T02:44:26.218Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-1] c.i.t.s.impl.TriggersForBotServiceImpl   : Обработка команды /question
2024-10-18T02:44:26.218Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-1] c.i.t.service.impl.RedisServiceImpl      : Сохранен тип запроса для пользователя 656703215: REGULAR
2024-10-18T02:44:26.353Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-1] c.i.t.c.TelegramWebhookConfiguration     : Сообщение отправлено: Вы переключились в режим обычных вопросов. В этом режиме бот будет отвечать текстом на ваши вопросы, использую внутреннюю документацию компании
"Папа Блинов". Вы также можете задать любой другой вопрос и бот ответит в рамках возможнолостей LLM-модели Chat-GPT 4. Для переключения в режим поиска файлов
компании - используйте команду /search

2024-10-18T02:44:26.353Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-1] c.i.t.service.impl.TelegramServiceImpl   : Были оправлены сообщения команд в чат
2024-10-18T02:44:33.905Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-2] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829020,
"message":{"message_id":626,"from":{"id":656703215,"is_bot":false,"first_name":"\u041a\u0438\u0440\u0438\u043b\u043b","last_name":"\u0417\u043e\u0440\u0438\u043d\u043e\u0432","username":"kirill_zorinov","language_code":"en","is_premium":true},"chat":{"id":-4595523366,"title":"\u0422\u0435\u0441\u0442 \u0433\u0440\u0443\u043f\u043f\u0430","type":"group","all_members_are_administrators":true},"date":1729219473,"reply_to_message":{"message_id":625,"from":{"id":6815728538,"is_bot":true,"first_name":"PapaBlinovBot","username":"PapaBlinovBot"},"chat":{"id":-4595523366,"title":"\u0422\u0435\u0441\u0442 \u0433\u0440\u0443\u043f\u043f\u0430","type":"group","all_members_are_administrators":true},"date":1729219466,"text":"\u0412\u044b \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u043b\u0438\u0441\u044c \u0432 \u0440\u0435\u0436\u0438\u043c \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432. \u0412 \u044d\u0442\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435 \u0431\u043e\u0442 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u0432\u0435\u0447\u0430\u0442\u044c \u0442\u0435\u043a\u0441\u0442\u043e\u043c \u043d\u0430 \u0432\u0430\u0448\u0438 \u0432\u043e\u043f\u0440\u043e\u0441\u044b, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044e\u044e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044e \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438\n\"\u041f\u0430\u043f\u0430 \u0411\u043b\u0438\u043d\u043e\u0432\". \u0412\u044b \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u0434\u0430\u0442\u044c \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u0432\u043e\u043f\u0440\u043e\u0441 \u0438 \u0431\u043e\u0442 \u043e\u0442\u0432\u0435\u0442\u0438\u0442 \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u043b\u043e\u0441\u0442\u0435\u0439 LLM-\u043c\u043e\u0434\u0435\u043b\u0438 Chat-GPT 4. \u0414\u043b\u044f \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0432 \u0440\u0435\u0436\u0438\u043c \u043f\u043e\u0438\u0441\u043a\u0430 \u0444\u0430\u0439\u043b\u043e\u0432\n\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 - \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 /search","entities":[{"offset":333,"length":7,"type":"bot_command"}]},"text":"\u041a\u0430\u043a \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0418\u041f"}}
2024-10-18T02:44:33.908Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-2] c.i.t.service.impl.RedisServiceImpl      : Найден тип запроса для пользователя 656703215: REGULAR
2024-10-18T02:44:33.909Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-2] c.i.t.service.impl.RedisServiceImpl      : Получил данные о кол-ве сообщений у конкретного юзера с id 656703215 в треде из редиса 1
2024-10-18T02:44:33.909Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-2] i.t.s.a.ProcessingRegularRequestsService : Получил в сервис данные о кол-ве сообщений в треде и замапил в инт 1
2024-10-18T02:44:34.267Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-2] i.t.s.a.ProcessingRegularRequestsService : Running thread with ID: thread_JDWVuFNYmEsjLM4ugrLQMef2
2024-10-18T02:44:45.650Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-2] i.t.s.a.ProcessingRegularRequestsService : Получил ответ от ллм по сути вопроса замапленный: Открытие ИП в России в 2023 году может быть выполнено достаточно быстро, всего за один день, но важно следовать нескольким ключевым шагам.

1. **Выбор способа подачи документов**: Вы можете подать документы лично в отделении налоговой инспекции, через банк, по почте, через интернет на портале Госуслуг, в отделении МФЦ или через нотариуса. Самый простой способ - через банк, где менеджеры могут помочь с процессом, но условием может быть открытие расчетного счета【6:0†source】.

2. **Выбор ОКВЭДов**: Нужно определить основной код ОКВЭД, с которого планируется получение прибыли. Дополнительных кодов может быть много, но лучше ограничиться теми видами деятельности, которыми планируется заниматься【6:1†source】.

3. **Подготовка документов**: Если подаете заявление лично, то обычно понадобятся паспорт и ИНН (оригинал и копии), квитанция на госпошлину и заявления на регистрацию и выбор налогового режима. При подаче онлайн, госпошлина не взимается, но потребуется электронная подпись【6:2†source】.

4. **Заполнение заявления на регистрацию**: Если вы подаете документы онлайн, заявление формируется автоматически. Необходимо использовать актуальную форму и учитывать требования, которые утверждены приказом ФНС【6:3†source】.

5. **Подача документов**: Подача документов в 2023 году возможна через сервисы ФНС или Госуслуг. Результат можно получить в течение одного дня с момента отправки документов【6:3†source】.

Эти шаги помогут легко и быстро оформить ИП, избегая ошибок и дополнительных расходов на госпошлину.
2024-10-18T02:44:45.696Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-2] c.i.t.c.TelegramWebhookConfiguration     : Сообщение отправлено: Открытие ИП в России в 2023 году может быть выполнено достаточно быстро, всего за один день, но важно следовать нескольким ключевым шагам.

1. **Выбор способа подачи документов**: Вы можете подать документы лично в отделении налоговой инспекции, через банк, по почте, через интернет на портале Госуслуг, в отделении МФЦ или через нотариуса. Самый простой способ - через банк, где менеджеры могут помочь с процессом, но условием может быть открытие расчетного счета【6:0†source】.

2. **Выбор ОКВЭДов**: Нужно определить основной код ОКВЭД, с которого планируется получение прибыли. Дополнительных кодов может быть много, но лучше ограничиться теми видами деятельности, которыми планируется заниматься【6:1†source】.

3. **Подготовка документов**: Если подаете заявление лично, то обычно понадобятся паспорт и ИНН (оригинал и копии), квитанция на госпошлину и заявления на регистрацию и выбор налогового режима. При подаче онлайн, госпошлина не взимается, но потребуется электронная подпись【6:2†source】.

4. **Заполнение заявления на регистрацию**: Если вы подаете документы онлайн, заявление формируется автоматически. Необходимо использовать актуальную форму и учитывать требования, которые утверждены приказом ФНС【6:3†source】.

5. **Подача документов**: Подача документов в 2023 году возможна через сервисы ФНС или Госуслуг. Результат можно получить в течение одного дня с момента отправки документов【6:3†source】.

Эти шаги помогут легко и быстро оформить ИП, избегая ошибок и дополнительных расходов на госпошлину.
2024-10-18T02:44:45.696Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-2] c.i.t.service.impl.TelegramServiceImpl   : Команд не было в сообщение - оно ушло в обработку LLM Как открыть ИП
2024-10-18T02:44:45.696Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-2] c.i.t.service.impl.TelegramServiceImpl   : Были оправлены сообщения команд в чат
2024-10-18T02:44:53.859Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-3] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829021,
"message":{"message_id":628,"from":{"id":656703215,"is_bot":false,"first_name":"\u041a\u0438\u0440\u0438\u043b\u043b","last_name":"\u0417\u043e\u0440\u0438\u043d\u043e\u0432","username":"kirill_zorinov","language_code":"en","is_premium":true},"chat":{"id":-4595523366,"title":"\u0422\u0435\u0441\u0442 \u0433\u0440\u0443\u043f\u043f\u0430","type":"group","all_members_are_administrators":true},"date":1729219493,"text":"/search@PapaBlinovBot","entities":[{"offset":0,"length":21,"type":"bot_command"}]}}
2024-10-18T02:44:53.861Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-3] c.i.t.s.impl.TriggersForBotServiceImpl   : Найдена команда: /search
2024-10-18T02:44:53.861Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-3] c.i.t.s.impl.TriggersForBotServiceImpl   : Обработка команды /search
2024-10-18T02:44:53.862Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-3] c.i.t.service.impl.RedisServiceImpl      : Сохранен тип запроса для пользователя 656703215: SEARCH
2024-10-18T02:44:53.911Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-3] c.i.t.c.TelegramWebhookConfiguration     : Сообщение отправлено:             Вы переключились в режим выдачи файлов. В этом режиме бот будет только отправлять вам внутренние файлы компании "Папа Блинов".
            Бот будет выдывать вам файлы, наиболее близкие по контексту вашего запроса. Пожалуйста, формулируйте ваш запрос более подходяще для поиска.
            Чтобы задать любой другой вопрос и получить ответ в текстовом формате, переключитесь  в режим обычных запросов - используйте команду /question

2024-10-18T02:44:53.912Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-3] c.i.t.service.impl.TelegramServiceImpl   : Были оправлены сообщения команд в чат
2024-10-18T02:45:05.950Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829022,
"message":{"message_id":630,"from":{"id":656703215,"is_bot":false,"first_name":"\u041a\u0438\u0440\u0438\u043b\u043b","last_name":"\u0417\u043e\u0440\u0438\u043d\u043e\u0432","username":"kirill_zorinov","language_code":"en","is_premium":true},"chat":{"id":-4595523366,"title":"\u0422\u0435\u0441\u0442 \u0433\u0440\u0443\u043f\u043f\u0430","type":"group","all_members_are_administrators":true},"date":1729219505,"reply_to_message":{"message_id":629,"from":{"id":6815728538,"is_bot":true,"first_name":"PapaBlinovBot","username":"PapaBlinovBot"},"chat":{"id":-4595523366,"title":"\u0422\u0435\u0441\u0442 \u0433\u0440\u0443\u043f\u043f\u0430","type":"group","all_members_are_administrators":true},"date":1729219493,"text":"\u0412\u044b \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u043b\u0438\u0441\u044c \u0432 \u0440\u0435\u0436\u0438\u043c \u0432\u044b\u0434\u0430\u0447\u0438 \u0444\u0430\u0439\u043b\u043e\u0432. \u0412 \u044d\u0442\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435 \u0431\u043e\u0442 \u0431\u0443\u0434\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0432\u0430\u043c \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u044b \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \"\u041f\u0430\u043f\u0430 \u0411\u043b\u0438\u043d\u043e\u0432\".\n            \u0411\u043e\u0442 \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u0434\u044b\u0432\u0430\u0442\u044c \u0432\u0430\u043c \u0444\u0430\u0439\u043b\u044b, \u043d\u0430\u0438\u0431\u043e\u043b\u0435\u0435 \u0431\u043b\u0438\u0437\u043a\u0438\u0435 \u043f\u043e \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0443 \u0432\u0430\u0448\u0435\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0444\u043e\u0440\u043c\u0443\u043b\u0438\u0440\u0443\u0439\u0442\u0435 \u0432\u0430\u0448 \u0437\u0430\u043f\u0440\u043e\u0441 \u0431\u043e\u043b\u0435\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0435 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430.\n            \u0427\u0442\u043e\u0431\u044b \u0437\u0430\u0434\u0430\u0442\u044c \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u0432\u043e\u043f\u0440\u043e\u0441 \u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043e\u0442\u0432\u0435\u0442 \u0432 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435, \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u0441\u044c  \u0432 \u0440\u0435\u0436\u0438\u043c \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 - \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 /question","entities":[{"offset":424,"length":9,"type":"bot_command"}]},"text":"\u0440\u0435\u0446\u0435\u043f\u0442 \u0431\u043b\u0438\u043d\u0430 \u0441 \u043a\u043b\u0443\u0431\u043d\u0438\u043a\u043e\u0439"}}
2024-10-18T02:45:05.953Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] c.i.t.service.impl.RedisServiceImpl      : Найден тип запроса для пользователя 656703215: SEARCH
2024-10-18T02:45:05.954Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] c.i.t.service.impl.RedisServiceImpl      : Получил данные о кол-ве сообщений у конкретного юзера с id 656703215 в треде из редиса 2
2024-10-18T02:45:05.954Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] i.t.s.a.ProcessingRegularRequestsService : Получил в сервис данные о кол-ве сообщений в треде и замапил в инт 2
2024-10-18T02:45:06.360Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] i.t.s.a.ProcessingRegularRequestsService : Running thread with ID: thread_JDWVuFNYmEsjLM4ugrLQMef2
2024-10-18T02:45:14.472Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] c.i.t.mapper.OpenAiMapper                : Найденные ID файлов: {Меню А1 Биробиджан в печать.pdf=file-ZILDVM38gDx8WQrmwtdHeGN4, Северодвинск Для расчета розничной цены.docx=file-K7e8zh73FEYsQpMxe8LqRgIq, МенюА4_гориз в печать.pdf=file-MkIqXRtCFMOLZUtd1AyJ9Gnx, Клубничный.docx=file-gXkPXCvCGLRbhr76kRgQGqbH, Курск расчет цен.docx=file-ujVZYP8RAQcLO2C0189hmaHg}
2024-10-18T02:45:14.472Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] .i.t.s.a.ProcessingSearchRequestsService : Зашёл в метод двойного названию, имя файла: и расширение: Меню А1 Биробиджан в печать.pdf, pdf
2024-10-18T02:45:14.473Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] .i.t.s.a.ProcessingSearchRequestsService : Итоговая мапа с разными вариантами названий с расширениями: Меню А1 Биробиджан в печать.pdf
2024-10-18T02:45:14.485Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] .i.t.s.a.ProcessingSearchRequestsService : Файл найден: Меню А1 Биробиджан в печать.pdf
2024-10-18T02:45:17.203Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] c.i.t.c.TelegramWebhookConfiguration     : Файл отправлен: Меню А1 Биробиджан в печать.pdf
2024-10-18T02:45:17.203Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] .i.t.s.a.ProcessingSearchRequestsService : Зашёл в метод двойного названию, имя файла: и расширение: Северодвинск Для расчета розничной цены.docx, docx
2024-10-18T02:45:17.204Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] .i.t.s.a.ProcessingSearchRequestsService : Итоговая мапа с разными вариантами названий с расширениями: Северодвинск Для расчета розничной цены.docx, Северодвинск Для расчета розничной цены.doc
2024-10-18T02:45:17.216Z  WARN 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] .i.t.s.a.ProcessingSearchRequestsService : Файл не найден: Северодвинск Для расчета розничной цены.docx
2024-10-18T02:45:17.216Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] .i.t.s.a.ProcessingSearchRequestsService : Зашёл в метод двойного названию, имя файла: и расширение: МенюА4_гориз в печать.pdf, pdf
2024-10-18T02:45:17.217Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] .i.t.s.a.ProcessingSearchRequestsService : Итоговая мапа с разными вариантами названий с расширениями: МенюА4_гориз в печать.pdf
2024-10-18T02:45:17.221Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] .i.t.s.a.ProcessingSearchRequestsService : Файл найден: МенюА4_гориз в печать.pdf
2024-10-18T02:45:18.119Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] c.i.t.c.TelegramWebhookConfiguration     : Файл отправлен: МенюА4_гориз в печать.pdf
2024-10-18T02:45:18.120Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] .i.t.s.a.ProcessingSearchRequestsService : Зашёл в метод двойного названию, имя файла: и расширение: Клубничный.docx, docx
2024-10-18T02:45:18.120Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] .i.t.s.a.ProcessingSearchRequestsService : Итоговая мапа с разными вариантами названий с расширениями: Клубничный.docx, Клубничный.doc
2024-10-18T02:45:18.123Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] .i.t.s.a.ProcessingSearchRequestsService : Файл найден: Клубничный.docx
2024-10-18T02:45:18.271Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] c.i.t.c.TelegramWebhookConfiguration     : Файл отправлен: Клубничный.docx
2024-10-18T02:45:18.271Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] .i.t.s.a.ProcessingSearchRequestsService : Зашёл в метод двойного названию, имя файла: и расширение: Курск расчет цен.docx, docx
2024-10-18T02:45:18.271Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] .i.t.s.a.ProcessingSearchRequestsService : Итоговая мапа с разными вариантами названий с расширениями: Курск расчет цен.docx, Курск расчет цен.doc
2024-10-18T02:45:18.278Z  WARN 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] .i.t.s.a.ProcessingSearchRequestsService : Файл не найден: Курск расчет цен.docx
2024-10-18T02:45:18.279Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] c.i.t.service.impl.TelegramServiceImpl   : Команд не было в сообщение - оно ушло в обработку LLM рецепт блина с клубникой
2024-10-18T02:45:18.279Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-4] c.i.t.service.impl.TelegramServiceImpl   : Были оправлены сообщения команд в чат
2024-10-18T06:26:58.528Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-6] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829023,
"message":{"message_id":634,"from":{"id":872995833,"is_bot":false,"first_name":"\u041d\u0438\u043a\u043e\u043b\u0430\u0439","username":"Nikolay_2507"},"chat":{"id":-4506623858,"title":"\u041f\u0430\u043f\u0430 \u0411\u043b\u0438\u043d\u043e\u0432 \u041a\u0440\u0430\u0441\u043d\u043e\u044f\u0440\u0441\u043a","type":"group","all_members_are_administrators":true},"date":1729232818,"text":"/start@PapaBlinovBot","entities":[{"offset":0,"length":20,"type":"bot_command"}]}}
2024-10-18T06:26:58.533Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-6] c.i.t.s.impl.TriggersForBotServiceImpl   : Найдена команда: /start
2024-10-18T06:26:58.534Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-6] c.i.t.s.impl.TriggersForBotServiceImpl   : Обработка команды /start
2024-10-18T06:26:58.647Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-6] c.i.t.c.TelegramWebhookConfiguration     : Сообщение отправлено: Привет! Это бот компании "Папа Блинов". Наша компания специализируется на изгготовлении и продаже блинов и мы открыты к сотрудничеству.
Вы можете узнать больше о возможностях бота - нажав на команду информация.
Не стесняйтесь спрашивать! Хорошего дня!

2024-10-18T06:26:58.647Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-6] c.i.t.service.impl.TelegramServiceImpl   : Были оправлены сообщения команд в чат
2024-10-18T06:27:21.636Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-7] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829024,
"message":{"message_id":11670,"from":{"id":872995833,"is_bot":false,"first_name":"\u041d\u0438\u043a\u043e\u043b\u0430\u0439","username":"Nikolay_2507"},"chat":{"id":-1002137989393,"title":"\u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0446\u0438\u044f","type":"supergroup"},"date":1729232841,"text":"/question@PapaBlinovBot","entities":[{"offset":0,"length":23,"type":"bot_command"}]}}
2024-10-18T06:27:21.637Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-7] c.i.t.s.impl.TriggersForBotServiceImpl   : Найдена команда: /question
2024-10-18T06:27:21.638Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-7] c.i.t.s.impl.TriggersForBotServiceImpl   : Обработка команды /question
2024-10-18T06:27:21.638Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-7] c.i.t.service.impl.RedisServiceImpl      : Сохранен тип запроса для пользователя 872995833: REGULAR
2024-10-18T06:27:21.729Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-7] c.i.t.c.TelegramWebhookConfiguration     : Сообщение отправлено: Вы переключились в режим обычных вопросов. В этом режиме бот будет отвечать текстом на ваши вопросы, использую внутреннюю документацию компании
"Папа Блинов". Вы также можете задать любой другой вопрос и бот ответит в рамках возможнолостей LLM-модели Chat-GPT 4. Для переключения в режим поиска файлов
компании - используйте команду /search

2024-10-18T06:27:21.729Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-7] c.i.t.service.impl.TelegramServiceImpl   : Были оправлены сообщения команд в чат
2024-10-18T06:27:34.336Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829025,
"message":{"message_id":11672,"from":{"id":872995833,"is_bot":false,"first_name":"\u041d\u0438\u043a\u043e\u043b\u0430\u0439","username":"Nikolay_2507"},"chat":{"id":-1002137989393,"title":"\u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0446\u0438\u044f","type":"supergroup"},"date":1729232854,"message_thread_id":11670,"reply_to_message":{"message_id":11671,"from":{"id":6815728538,"is_bot":true,"first_name":"PapaBlinovBot","username":"PapaBlinovBot"},"chat":{"id":-1002137989393,"title":"\u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0446\u0438\u044f","type":"supergroup"},"date":1729232841,"message_thread_id":11670,"text":"\u0412\u044b \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u043b\u0438\u0441\u044c \u0432 \u0440\u0435\u0436\u0438\u043c \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432. \u0412 \u044d\u0442\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435 \u0431\u043e\u0442 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u0432\u0435\u0447\u0430\u0442\u044c \u0442\u0435\u043a\u0441\u0442\u043e\u043c \u043d\u0430 \u0432\u0430\u0448\u0438 \u0432\u043e\u043f\u0440\u043e\u0441\u044b, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044e\u044e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044e \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438\n\"\u041f\u0430\u043f\u0430 \u0411\u043b\u0438\u043d\u043e\u0432\". \u0412\u044b \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u0434\u0430\u0442\u044c \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u0432\u043e\u043f\u0440\u043e\u0441 \u0438 \u0431\u043e\u0442 \u043e\u0442\u0432\u0435\u0442\u0438\u0442 \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u043b\u043e\u0441\u0442\u0435\u0439 LLM-\u043c\u043e\u0434\u0435\u043b\u0438 Chat-GPT 4. \u0414\u043b\u044f \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0432 \u0440\u0435\u0436\u0438\u043c \u043f\u043e\u0438\u0441\u043a\u0430 \u0444\u0430\u0439\u043b\u043e\u0432\n\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 - \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 /search","entities":[{"offset":333,"length":7,"type":"bot_command"}]},"text":"\u041a\u0430\u043a\u0438\u0435 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0438 \u0432 \u043f\u043e\u0438\u0441\u043a\u0435 \u043f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u044f"}}
2024-10-18T06:27:34.339Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] c.i.t.service.impl.RedisServiceImpl      : Найден тип запроса для пользователя 872995833: REGULAR
2024-10-18T06:27:35.056Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] c.i.t.service.impl.RedisServiceImpl      : Получил данные о кол-ве сообщений у конкретного юзера с id 872995833 в треде из редиса null
2024-10-18T06:27:35.056Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] i.t.s.a.ProcessingRegularRequestsService : Получил в сервис данные о кол-ве сообщений в треде и замапил в инт 0
2024-10-18T06:27:35.556Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] i.t.s.a.ProcessingRegularRequestsService : Running thread with ID: thread_36JMP7EjuP2RxrD1RN7uqrTj
2024-10-18T06:27:48.634Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] i.t.s.a.ProcessingRegularRequestsService : Получил ответ от ллм по сути вопроса замапленный: В процессе поиска помещения для кафе-блинной "Папа Блинов" следует учитывать несколько ключевых критериев:

1. **Тип помещения и его стоимость**: Идеальный тип помещения может варьироваться от киоска до фудкорта в ТЦ. Площадь должна составлять от 8 до 50 м², в зависимости от формата заведения. Стоимость аренды также важна: до 200,000 рублей в крупном торговом центре, до 60,000 рублей за помещение с залом для гостей и до 50,000 рублей за киоск или павильон на трафиковой локации【4:1†source】.

2. **Мощность и коммуникации**: Помещение должно быть обеспечено электроэнергией мощностью 15-20 кВт и иметь централизованные водоснабжение и канализацию. В вытяжке также есть необходимость, особенно для помещений в жилых домах, где требуется отдельная вентиляция【4:1†source】.

3. **Локация**: Оживлённые места, такие как парки, центральные улицы, рынки, крупные торговые центры или университеты — идеальные кандидаты для размещения кафе. Локации в спальных районах оцениваются в последнюю очередь【4:1†source】.

4. **Проходимость**: Оценка проходимости в разные временные промежутки (утро, день, вечер) важна, ведь достаточный поток людей способствует успешным продажам【4:0†source】.

5. **Условия аренды**: Сроки аренды, наличие арендных каникул или скидок на начальный период особенно важны, так как затрат на открытие точек может быть значительным【4:4†source】.

Эти критерии помогут выбрать наиболее подходящее помещение для вашего бизнеса, обеспечив успешное функционирование кафе.
2024-10-18T06:27:48.764Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] c.i.t.c.TelegramWebhookConfiguration     : Сообщение отправлено: В процессе поиска помещения для кафе-блинной "Папа Блинов" следует учитывать несколько ключевых критериев:

1. **Тип помещения и его стоимость**: Идеальный тип помещения может варьироваться от киоска до фудкорта в ТЦ. Площадь должна составлять от 8 до 50 м², в зависимости от формата заведения. Стоимость аренды также важна: до 200,000 рублей в крупном торговом центре, до 60,000 рублей за помещение с залом для гостей и до 50,000 рублей за киоск или павильон на трафиковой локации【4:1†source】.

2. **Мощность и коммуникации**: Помещение должно быть обеспечено электроэнергией мощностью 15-20 кВт и иметь централизованные водоснабжение и канализацию. В вытяжке также есть необходимость, особенно для помещений в жилых домах, где требуется отдельная вентиляция【4:1†source】.

3. **Локация**: Оживлённые места, такие как парки, центральные улицы, рынки, крупные торговые центры или университеты — идеальные кандидаты для размещения кафе. Локации в спальных районах оцениваются в последнюю очередь【4:1†source】.

4. **Проходимость**: Оценка проходимости в разные временные промежутки (утро, день, вечер) важна, ведь достаточный поток людей способствует успешным продажам【4:0†source】.

5. **Условия аренды**: Сроки аренды, наличие арендных каникул или скидок на начальный период особенно важны, так как затрат на открытие точек может быть значительным【4:4†source】.

Эти критерии помогут выбрать наиболее подходящее помещение для вашего бизнеса, обеспечив успешное функционирование кафе.
2024-10-18T06:27:48.764Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] c.i.t.service.impl.TelegramServiceImpl   : Команд не было в сообщение - оно ушло в обработку LLM Какие критерии в поиске помещения
2024-10-18T06:27:48.764Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] c.i.t.service.impl.TelegramServiceImpl   : Были оправлены сообщения команд в чат
2024-10-18T06:27:48.804Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829026,
"message":{"message_id":11673,"from":{"id":872995833,"is_bot":false,"first_name":"\u041d\u0438\u043a\u043e\u043b\u0430\u0439","username":"Nikolay_2507"},"chat":{"id":-1002137989393,"title":"\u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0446\u0438\u044f","type":"supergroup"},"date":1729232864,"text":"/start@PapaBlinovBot","entities":[{"offset":0,"length":20,"type":"bot_command"}]}}
2024-10-18T06:27:48.805Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] c.i.t.s.impl.TriggersForBotServiceImpl   : Найдена команда: /start
2024-10-18T06:27:48.806Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] c.i.t.s.impl.TriggersForBotServiceImpl   : Обработка команды /start
2024-10-18T06:27:48.900Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] c.i.t.c.TelegramWebhookConfiguration     : Сообщение отправлено: Привет! Это бот компании "Папа Блинов". Наша компания специализируется на изгготовлении и продаже блинов и мы открыты к сотрудничеству.
Вы можете узнать больше о возможностях бота - нажав на команду информация.
Не стесняйтесь спрашивать! Хорошего дня!

2024-10-18T06:27:48.900Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] c.i.t.service.impl.TelegramServiceImpl   : Были оправлены сообщения команд в чат
2024-10-18T06:28:09.959Z  INFO 1 --- [TelegramBotForPapaBlinov] [io-8092-exec-10] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829027,
"message":{"message_id":11677,"from":{"id":872995833,"is_bot":false,"first_name":"\u041d\u0438\u043a\u043e\u043b\u0430\u0439","username":"Nikolay_2507"},"chat":{"id":-1002137989393,"title":"\u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0446\u0438\u044f","type":"supergroup"},"date":1729232889,"message_thread_id":11673,"reply_to_message":{"message_id":11675,"from":{"id":6815728538,"is_bot":true,"first_name":"PapaBlinovBot","username":"PapaBlinovBot"},"chat":{"id":-1002137989393,"title":"\u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0446\u0438\u044f","type":"supergroup"},"date":1729232868,"message_thread_id":11673,"text":"\u041f\u0440\u0438\u0432\u0435\u0442! \u042d\u0442\u043e \u0431\u043e\u0442 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \"\u041f\u0430\u043f\u0430 \u0411\u043b\u0438\u043d\u043e\u0432\". \u041d\u0430\u0448\u0430 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043d\u0430 \u0438\u0437\u0433\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0438 \u043f\u0440\u043e\u0434\u0430\u0436\u0435 \u0431\u043b\u0438\u043d\u043e\u0432 \u0438 \u043c\u044b \u043e\u0442\u043a\u0440\u044b\u0442\u044b \u043a \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u0447\u0435\u0441\u0442\u0432\u0443.\n\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0443\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044f\u0445 \u0431\u043e\u0442\u0430 - \u043d\u0430\u0436\u0430\u0432 \u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f.\n\u041d\u0435 \u0441\u0442\u0435\u0441\u043d\u044f\u0439\u0442\u0435\u0441\u044c \u0441\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0442\u044c! \u0425\u043e\u0440\u043e\u0448\u0435\u0433\u043e \u0434\u043d\u044f!"},"text":"\u041a\u0430\u043a \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u0435"}}
2024-10-18T06:28:09.961Z  INFO 1 --- [TelegramBotForPapaBlinov] [io-8092-exec-10] c.i.t.service.impl.RedisServiceImpl      : Найден тип запроса для пользователя 872995833: REGULAR
2024-10-18T06:28:09.962Z  INFO 1 --- [TelegramBotForPapaBlinov] [io-8092-exec-10] c.i.t.service.impl.RedisServiceImpl      : Получил данные о кол-ве сообщений у конкретного юзера с id 872995833 в треде из редиса 1
2024-10-18T06:28:09.962Z  INFO 1 --- [TelegramBotForPapaBlinov] [io-8092-exec-10] i.t.s.a.ProcessingRegularRequestsService : Получил в сервис данные о кол-ве сообщений в треде и замапил в инт 1
2024-10-18T06:28:10.225Z  INFO 1 --- [TelegramBotForPapaBlinov] [io-8092-exec-10] i.t.s.a.ProcessingRegularRequestsService : Running thread with ID: thread_36JMP7EjuP2RxrD1RN7uqrTj
2024-10-18T06:28:18.658Z  INFO 1 --- [TelegramBotForPapaBlinov] [io-8092-exec-10] i.t.s.a.ProcessingRegularRequestsService : Получил ответ от ллм по сути вопроса замапленный: Чтобы правильно выбрать помещение для кафе-блинной "Папа Блинов", следуйте следующим шагам, основанным на ранее указанной информации:

1. **Определите формат заведения**: Решите, какой тип заведения вы хотите открыть — киоск, точка в фудкорте или кафе с обеденным залом. Это будет основополагающим фактором для дальнейшего выбора помещения.

2. **Рассчитайте бюджет аренды**: Перед началом поиска определите допустимый диапазон аренды. Стоимость аренды зависит от типа помещения и его местоположения. Например, в крупном торговом центре это может превысить 200,000 рублей, в то время как киоск на оживлённой улице может обойтись до 50,000 рублей【4:1†source】.

3. **Оцените технические характеристики помещения**: Убедитесь, что помещение соответствует минимальным требованиям по мощностям и коммуникациям, включая наличие электроэнергии мощностью 15-20 кВт, централизованного водоснабжения и канализации, а также системы вентиляции【4:1†source】.

4. **Изучите локацию**: Хорошее расположение — ключ к успешному бизнесу. Предпочтительными являются оживленные районы, такие как торговые центры, парки или университетские комплексы, где скапливается множество людей【4:1†source】.

5. **Оцените проходимость**: Изучите движение пешеходов в выбранных местах в разное время суток. Это поможет понять потенциальное количество клиентов.

6. **Анализируйте условия аренды**: Исследуйте предлагаемые условия аренды, включая продолжительность договора, возможные арендные каникулы или скидки, которые могут снизить первоначальные затраты【4:4†source】.

Следуя этим шагам, вы сможете более уверенно принять решение о выборе помещения, которое будет идеальным для вашего будущего кафе-блинной.
2024-10-18T06:28:18.861Z  INFO 1 --- [TelegramBotForPapaBlinov] [io-8092-exec-10] c.i.t.c.TelegramWebhookConfiguration     : Сообщение отправлено: Чтобы правильно выбрать помещение для кафе-блинной "Папа Блинов", следуйте следующим шагам, основанным на ранее указанной информации:

1. **Определите формат заведения**: Решите, какой тип заведения вы хотите открыть — киоск, точка в фудкорте или кафе с обеденным залом. Это будет основополагающим фактором для дальнейшего выбора помещения.

2. **Рассчитайте бюджет аренды**: Перед началом поиска определите допустимый диапазон аренды. Стоимость аренды зависит от типа помещения и его местоположения. Например, в крупном торговом центре это может превысить 200,000 рублей, в то время как киоск на оживлённой улице может обойтись до 50,000 рублей【4:1†source】.

3. **Оцените технические характеристики помещения**: Убедитесь, что помещение соответствует минимальным требованиям по мощностям и коммуникациям, включая наличие электроэнергии мощностью 15-20 кВт, централизованного водоснабжения и канализации, а также системы вентиляции【4:1†source】.

4. **Изучите локацию**: Хорошее расположение — ключ к успешному бизнесу. Предпочтительными являются оживленные районы, такие как торговые центры, парки или университетские комплексы, где скапливается множество людей【4:1†source】.

5. **Оцените проходимость**: Изучите движение пешеходов в выбранных местах в разное время суток. Это поможет понять потенциальное количество клиентов.

6. **Анализируйте условия аренды**: Исследуйте предлагаемые условия аренды, включая продолжительность договора, возможные арендные каникулы или скидки, которые могут снизить первоначальные затраты【4:4†source】.

Следуя этим шагам, вы сможете более уверенно принять решение о выборе помещения, которое будет идеальным для вашего будущего кафе-блинной.
2024-10-18T06:28:18.861Z  INFO 1 --- [TelegramBotForPapaBlinov] [io-8092-exec-10] c.i.t.service.impl.TelegramServiceImpl   : Команд не было в сообщение - оно ушло в обработку LLM Как выбрать помещение
2024-10-18T06:28:18.862Z  INFO 1 --- [TelegramBotForPapaBlinov] [io-8092-exec-10] c.i.t.service.impl.TelegramServiceImpl   : Были оправлены сообщения команд в чат
2024-10-18T06:36:53.796Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-2] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829028,
"message":{"message_id":636,"from":{"id":868657558,"is_bot":false,"first_name":"\u0410\u0440\u044e\u043d\u0430","last_name":"\u0414\u0430\u0448\u0438\u0435\u0432\u0430","username":"ariuna_dashieva","language_code":"ru","is_premium":true},"chat":{"id":-4506623858,"title":"\u041f\u0430\u043f\u0430 \u0411\u043b\u0438\u043d\u043e\u0432 \u041a\u0440\u0430\u0441\u043d\u043e\u044f\u0440\u0441\u043a","type":"group","all_members_are_administrators":true},"date":1729233413,"reply_to_message":{"message_id":635,"from":{"id":6815728538,"is_bot":true,"first_name":"PapaBlinovBot","username":"PapaBlinovBot"},"chat":{"id":-4506623858,"title":"\u041f\u0430\u043f\u0430 \u0411\u043b\u0438\u043d\u043e\u0432 \u041a\u0440\u0430\u0441\u043d\u043e\u044f\u0440\u0441\u043a","type":"group","all_members_are_administrators":true},"date":1729232818,"text":"\u041f\u0440\u0438\u0432\u0435\u0442! \u042d\u0442\u043e \u0431\u043e\u0442 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \"\u041f\u0430\u043f\u0430 \u0411\u043b\u0438\u043d\u043e\u0432\". \u041d\u0430\u0448\u0430 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043d\u0430 \u0438\u0437\u0433\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0438 \u043f\u0440\u043e\u0434\u0430\u0436\u0435 \u0431\u043b\u0438\u043d\u043e\u0432 \u0438 \u043c\u044b \u043e\u0442\u043a\u0440\u044b\u0442\u044b \u043a \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u0447\u0435\u0441\u0442\u0432\u0443.\n\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0443\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044f\u0445 \u0431\u043e\u0442\u0430 - \u043d\u0430\u0436\u0430\u0432 \u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f.\n\u041d\u0435 \u0441\u0442\u0435\u0441\u043d\u044f\u0439\u0442\u0435\u0441\u044c \u0441\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0442\u044c! \u0425\u043e\u0440\u043e\u0448\u0435\u0433\u043e \u0434\u043d\u044f!"},"text":"\u041e\u0442\u043f\u0440\u0430\u0432\u044c \u0432\u0441\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u043a \u043f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u044e"}}
2024-10-18T06:36:53.800Z ERROR 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at java.base/java.util.Objects.requireNonNull(Unknown Source) ~[na:na]
	at com.ivan_degtev.telegrambotforpapablinov.service.impl.RedisServiceImpl.getUserRequestType(RedisServiceImpl.java:48) ~[!/:0.0.1-SNAPSHOT]
	at com.ivan_degtev.telegrambotforpapablinov.service.ai.ProcessingRegularRequestsService.createRequestGetResponse(ProcessingRegularRequestsService.java:85) ~[!/:0.0.1-SNAPSHOT]
	at com.ivan_degtev.telegrambotforpapablinov.service.ai.OpenAiServiceImpl.getAnswerFromLlm(OpenAiServiceImpl.java:22) ~[!/:0.0.1-SNAPSHOT]
	at com.ivan_degtev.telegrambotforpapablinov.service.impl.TelegramServiceImpl.getNewMessagesFromWebhook(TelegramServiceImpl.java:52) ~[!/:0.0.1-SNAPSHOT]
	at com.ivan_degtev.telegrambotforpapablinov.controller.WebhookController.handleWebhook(WebhookController.java:29) ~[!/:0.0.1-SNAPSHOT]
	at jdk.internal.reflect.GeneratedMethodAccessor8.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.12.jar!/:6.1.12]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.12.jar!/:6.1.12]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.12.jar!/:6.1.12]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.12.jar!/:6.1.12]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.12.jar!/:6.1.12]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.12.jar!/:6.1.12]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.12.jar!/:6.1.12]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.12.jar!/:6.1.12]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.12.jar!/:6.1.12]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.12.jar!/:6.1.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.12.jar!/:6.1.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.28.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.12.jar!/:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar!/:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.12.jar!/:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar!/:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.12.jar!/:6.1.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.12.jar!/:6.1.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.28.jar!/:na]
	at java.base/java.lang.Thread.run(Unknown Source) ~[na:na]

2024-10-18T06:36:53.841Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-3] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829028,
"message":{"message_id":636,"from":{"id":868657558,"is_bot":false,"first_name":"\u0410\u0440\u044e\u043d\u0430","last_name":"\u0414\u0430\u0448\u0438\u0435\u0432\u0430","username":"ariuna_dashieva","language_code":"ru","is_premium":true},"chat":{"id":-4506623858,"title":"\u041f\u0430\u043f\u0430 \u0411\u043b\u0438\u043d\u043e\u0432 \u041a\u0440\u0430\u0441\u043d\u043e\u044f\u0440\u0441\u043a","type":"group","all_members_are_administrators":true},"date":1729233413,"reply_to_message":{"message_id":635,"from":{"id":6815728538,"is_bot":true,"first_name":"PapaBlinovBot","username":"PapaBlinovBot"},"chat":{"id":-4506623858,"title":"\u041f\u0430\u043f\u0430 \u0411\u043b\u0438\u043d\u043e\u0432 \u041a\u0440\u0430\u0441\u043d\u043e\u044f\u0440\u0441\u043a","type":"group","all_members_are_administrators":true},"date":1729232818,"text":"\u041f\u0440\u0438\u0432\u0435\u0442! \u042d\u0442\u043e \u0431\u043e\u0442 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \"\u041f\u0430\u043f\u0430 \u0411\u043b\u0438\u043d\u043e\u0432\". \u041d\u0430\u0448\u0430 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043d\u0430 \u0438\u0437\u0433\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0438 \u043f\u0440\u043e\u0434\u0430\u0436\u0435 \u0431\u043b\u0438\u043d\u043e\u0432 \u0438 \u043c\u044b \u043e\u0442\u043a\u0440\u044b\u0442\u044b \u043a \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u0447\u0435\u0441\u0442\u0432\u0443.\n\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0443\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044f\u0445 \u0431\u043e\u0442\u0430 - \u043d\u0430\u0436\u0430\u0432 \u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f.\n\u041d\u0435 \u0441\u0442\u0435\u0441\u043d\u044f\u0439\u0442\u0435\u0441\u044c \u0441\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0442\u044c! \u0425\u043e\u0440\u043e\u0448\u0435\u0433\u043e \u0434\u043d\u044f!"},"text":"\u041e\u0442\u043f\u0440\u0430\u0432\u044c \u0432\u0441\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u043a \u043f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u044e"}}
2024-10-18T06:36:53.843Z  WARN 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-3] c.i.t.service.impl.TelegramServiceImpl   : Дубликат update_id: 562829028. Сообщение будет проигнорировано.
2024-10-18T06:56:34.351Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-5] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829029,
"message":{"message_id":637,"from":{"id":1395830668,"is_bot":false,"first_name":"Olesia","username":"aleksia04","is_premium":true},"chat":{"id":-4506623858,"title":"\u041f\u0430\u043f\u0430 \u0411\u043b\u0438\u043d\u043e\u0432 \u041a\u0440\u0430\u0441\u043d\u043e\u044f\u0440\u0441\u043a","type":"group","all_members_are_administrators":true},"date":1729234594,"reply_to_message":{"message_id":636,"from":{"id":868657558,"is_bot":false,"first_name":"\u0410\u0440\u044e\u043d\u0430","last_name":"\u0414\u0430\u0448\u0438\u0435\u0432\u0430","username":"ariuna_dashieva","language_code":"ru","is_premium":true},"chat":{"id":-4506623858,"title":"\u041f\u0430\u043f\u0430 \u0411\u043b\u0438\u043d\u043e\u0432 \u041a\u0440\u0430\u0441\u043d\u043e\u044f\u0440\u0441\u043a","type":"group","all_members_are_administrators":true},"date":1729233413,"text":"\u041e\u0442\u043f\u0440\u0430\u0432\u044c \u0432\u0441\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u043a \u043f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u044e"},"text":"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438 \u043f\u0440\u044f\u043c \u043d\u0430 \u0410\u0432\u0438\u0442\u043e \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c?"}}
2024-10-19T08:58:37.467Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-7] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829030,
"message":{"message_id":11708,"from":{"id":872995833,"is_bot":false,"first_name":"\u041d\u0438\u043a\u043e\u043b\u0430\u0439","username":"Nikolay_2507"},"chat":{"id":-1002137989393,"title":"\u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0446\u0438\u044f","type":"supergroup"},"date":1729328317,"text":"/search@PapaBlinovBot","entities":[{"offset":0,"length":21,"type":"bot_command"}]}}
2024-10-19T08:58:37.472Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-7] c.i.t.s.impl.TriggersForBotServiceImpl   : Найдена команда: /search
2024-10-19T08:58:37.473Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-7] c.i.t.s.impl.TriggersForBotServiceImpl   : Обработка команды /search
2024-10-19T08:58:37.473Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-7] c.i.t.service.impl.RedisServiceImpl      : Сохранен тип запроса для пользователя 872995833: SEARCH
2024-10-19T08:58:37.604Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-7] c.i.t.c.TelegramWebhookConfiguration     : Сообщение отправлено:             Вы переключились в режим выдачи файлов. В этом режиме бот будет только отправлять вам внутренние файлы компании "Папа Блинов".
            Бот будет выдывать вам файлы, наиболее близкие по контексту вашего запроса. Пожалуйста, формулируйте ваш запрос более подходяще для поиска.
            Чтобы задать любой другой вопрос и получить ответ в текстовом формате, переключитесь  в режим обычных запросов - используйте команду /question

2024-10-19T08:58:37.605Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-7] c.i.t.service.impl.TelegramServiceImpl   : Были оправлены сообщения команд в чат
2024-10-19T08:58:57.806Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829031,
"message":{"message_id":11711,"from":{"id":872995833,"is_bot":false,"first_name":"\u041d\u0438\u043a\u043e\u043b\u0430\u0439","username":"Nikolay_2507"},"chat":{"id":-1002137989393,"title":"\u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0446\u0438\u044f","type":"supergroup"},"date":1729328337,"message_thread_id":11708,"reply_to_message":{"message_id":11709,"from":{"id":6815728538,"is_bot":true,"first_name":"PapaBlinovBot","username":"PapaBlinovBot"},"chat":{"id":-1002137989393,"title":"\u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0446\u0438\u044f","type":"supergroup"},"date":1729328317,"message_thread_id":11708,"text":"\u0412\u044b \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u043b\u0438\u0441\u044c \u0432 \u0440\u0435\u0436\u0438\u043c \u0432\u044b\u0434\u0430\u0447\u0438 \u0444\u0430\u0439\u043b\u043e\u0432. \u0412 \u044d\u0442\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435 \u0431\u043e\u0442 \u0431\u0443\u0434\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0432\u0430\u043c \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u044b \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \"\u041f\u0430\u043f\u0430 \u0411\u043b\u0438\u043d\u043e\u0432\".\n            \u0411\u043e\u0442 \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u0434\u044b\u0432\u0430\u0442\u044c \u0432\u0430\u043c \u0444\u0430\u0439\u043b\u044b, \u043d\u0430\u0438\u0431\u043e\u043b\u0435\u0435 \u0431\u043b\u0438\u0437\u043a\u0438\u0435 \u043f\u043e \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0443 \u0432\u0430\u0448\u0435\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0444\u043e\u0440\u043c\u0443\u043b\u0438\u0440\u0443\u0439\u0442\u0435 \u0432\u0430\u0448 \u0437\u0430\u043f\u0440\u043e\u0441 \u0431\u043e\u043b\u0435\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0435 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430.\n            \u0427\u0442\u043e\u0431\u044b \u0437\u0430\u0434\u0430\u0442\u044c \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u0432\u043e\u043f\u0440\u043e\u0441 \u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043e\u0442\u0432\u0435\u0442 \u0432 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435, \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u0441\u044c  \u0432 \u0440\u0435\u0436\u0438\u043c \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 - \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 /question","entities":[{"offset":424,"length":9,"type":"bot_command"}]},"text":"\u041a\u0430\u043a \u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0431\u043b\u0438\u043d\u043d\u0438\u0446\u0443 \u0432\u0438\u0434\u0435\u043e"}}
2024-10-19T08:58:57.808Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] c.i.t.service.impl.RedisServiceImpl      : Найден тип запроса для пользователя 872995833: SEARCH
2024-10-19T08:58:57.809Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] c.i.t.service.impl.RedisServiceImpl      : Получил данные о кол-ве сообщений у конкретного юзера с id 872995833 в треде из редиса 2
2024-10-19T08:58:57.810Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] i.t.s.a.ProcessingRegularRequestsService : Получил в сервис данные о кол-ве сообщений в треде и замапил в инт 2
2024-10-19T08:58:58.362Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] i.t.s.a.ProcessingRegularRequestsService : Running thread with ID: thread_36JMP7EjuP2RxrD1RN7uqrTj
2024-10-19T08:59:08.318Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] c.i.t.mapper.OpenAiMapper                : Найденные ID файлов: {Приложение 1.pdf=file-znAaqr4fFdY6ylb187ETW2VE, Чек-лист для подбора помещения.docx=file-Zu2lg8HEHDBnG5xbX7i5yipX, Видео-уроки по приготовлению.docx=file-nBiKBuVDvxZUZzKGfmGDXvLc, БЛИННИЦА Roller Grill CSE_350_400_CDE_350_400__G03251.pdf=file-BpnSrRk64gEM0LnoAW2npxXt, Жульен.docx=file-AuYG3ANhb2HyegNZskbAoqA4}
2024-10-19T08:59:08.319Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] .i.t.s.a.ProcessingSearchRequestsService : Зашёл в метод двойного названию, имя файла: и расширение: Приложение 1.pdf, pdf
2024-10-19T08:59:08.319Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] .i.t.s.a.ProcessingSearchRequestsService : Итоговая мапа с разными вариантами названий с расширениями: Приложение 1.pdf
2024-10-19T08:59:08.320Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] .i.t.s.a.ProcessingSearchRequestsService : Файл найден: Приложение 1.pdf
2024-10-19T08:59:08.670Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] c.i.t.c.TelegramWebhookConfiguration     : Файл отправлен: Приложение 1.pdf
2024-10-19T08:59:08.671Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] .i.t.s.a.ProcessingSearchRequestsService : Зашёл в метод двойного названию, имя файла: и расширение: Чек-лист для подбора помещения.docx, docx
2024-10-19T08:59:08.671Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] .i.t.s.a.ProcessingSearchRequestsService : Итоговая мапа с разными вариантами названий с расширениями: Чек-лист для подбора помещения.docx, Чек-лист для подбора помещения.doc
2024-10-19T08:59:08.676Z  WARN 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] .i.t.s.a.ProcessingSearchRequestsService : Файл не найден: Чек-лист для подбора помещения.docx
2024-10-19T08:59:08.676Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] .i.t.s.a.ProcessingSearchRequestsService : Зашёл в метод двойного названию, имя файла: и расширение: Видео-уроки по приготовлению.docx, docx
2024-10-19T08:59:08.677Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] .i.t.s.a.ProcessingSearchRequestsService : Итоговая мапа с разными вариантами названий с расширениями: Видео-уроки по приготовлению.docx, Видео-уроки по приготовлению.doc
2024-10-19T08:59:08.679Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] .i.t.s.a.ProcessingSearchRequestsService : Файл найден: Видео-уроки по приготовлению.docx
2024-10-19T08:59:08.782Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] c.i.t.c.TelegramWebhookConfiguration     : Файл отправлен: Видео-уроки по приготовлению.docx
2024-10-19T08:59:08.783Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] .i.t.s.a.ProcessingSearchRequestsService : Зашёл в метод двойного названию, имя файла: и расширение: БЛИННИЦА Roller Grill CSE_350_400_CDE_350_400__G03251.pdf, pdf
2024-10-19T08:59:08.783Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] .i.t.s.a.ProcessingSearchRequestsService : Итоговая мапа с разными вариантами названий с расширениями: БЛИННИЦА Roller Grill CSE_350_400_CDE_350_400__G03251.pdf
2024-10-19T08:59:08.785Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] .i.t.s.a.ProcessingSearchRequestsService : Файл найден: БЛИННИЦА Roller Grill CSE_350_400_CDE_350_400__G03251.pdf
2024-10-19T08:59:09.281Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] c.i.t.c.TelegramWebhookConfiguration     : Файл отправлен: БЛИННИЦА Roller Grill CSE_350_400_CDE_350_400__G03251.pdf
2024-10-19T08:59:09.282Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] .i.t.s.a.ProcessingSearchRequestsService : Зашёл в метод двойного названию, имя файла: и расширение: Жульен.docx, docx
2024-10-19T08:59:09.282Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] .i.t.s.a.ProcessingSearchRequestsService : Итоговая мапа с разными вариантами названий с расширениями: Жульен.docx, Жульен.doc
2024-10-19T08:59:09.283Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] .i.t.s.a.ProcessingSearchRequestsService : Файл найден: Жульен.docx
2024-10-19T08:59:09.408Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] c.i.t.c.TelegramWebhookConfiguration     : Файл отправлен: Жульен.docx
2024-10-19T08:59:09.408Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] c.i.t.service.impl.TelegramServiceImpl   : Команд не было в сообщение - оно ушло в обработку LLM Как чистить блинницу видео
2024-10-19T08:59:09.408Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-8] c.i.t.service.impl.TelegramServiceImpl   : Были оправлены сообщения команд в чат
2024-10-19T08:59:41.085Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829032,
"message":{"message_id":11716,"from":{"id":872995833,"is_bot":false,"first_name":"\u041d\u0438\u043a\u043e\u043b\u0430\u0439","username":"Nikolay_2507"},"chat":{"id":-1002137989393,"title":"\u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0446\u0438\u044f","type":"supergroup"},"date":1729328381,"message_thread_id":11708,"reply_to_message":{"message_id":11709,"from":{"id":6815728538,"is_bot":true,"first_name":"PapaBlinovBot","username":"PapaBlinovBot"},"chat":{"id":-1002137989393,"title":"\u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0446\u0438\u044f","type":"supergroup"},"date":1729328317,"message_thread_id":11708,"text":"\u0412\u044b \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u043b\u0438\u0441\u044c \u0432 \u0440\u0435\u0436\u0438\u043c \u0432\u044b\u0434\u0430\u0447\u0438 \u0444\u0430\u0439\u043b\u043e\u0432. \u0412 \u044d\u0442\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435 \u0431\u043e\u0442 \u0431\u0443\u0434\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0432\u0430\u043c \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u044b \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \"\u041f\u0430\u043f\u0430 \u0411\u043b\u0438\u043d\u043e\u0432\".\n            \u0411\u043e\u0442 \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u0434\u044b\u0432\u0430\u0442\u044c \u0432\u0430\u043c \u0444\u0430\u0439\u043b\u044b, \u043d\u0430\u0438\u0431\u043e\u043b\u0435\u0435 \u0431\u043b\u0438\u0437\u043a\u0438\u0435 \u043f\u043e \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0443 \u0432\u0430\u0448\u0435\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0444\u043e\u0440\u043c\u0443\u043b\u0438\u0440\u0443\u0439\u0442\u0435 \u0432\u0430\u0448 \u0437\u0430\u043f\u0440\u043e\u0441 \u0431\u043e\u043b\u0435\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0435 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430.\n            \u0427\u0442\u043e\u0431\u044b \u0437\u0430\u0434\u0430\u0442\u044c \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u0432\u043e\u043f\u0440\u043e\u0441 \u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043e\u0442\u0432\u0435\u0442 \u0432 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435, \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u0441\u044c  \u0432 \u0440\u0435\u0436\u0438\u043c \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 - \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 /question","entities":[{"offset":424,"length":9,"type":"bot_command"}]},"text":"\u041c\u044b\u0442\u044c\u0435 \u0431\u043b\u0438\u043d\u043d\u0438\u0446\u044b"}}
2024-10-19T08:59:41.087Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] c.i.t.service.impl.RedisServiceImpl      : Найден тип запроса для пользователя 872995833: SEARCH
2024-10-19T08:59:41.087Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] c.i.t.service.impl.RedisServiceImpl      : Получил данные о кол-ве сообщений у конкретного юзера с id 872995833 в треде из редиса 3
2024-10-19T08:59:41.088Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] i.t.s.a.ProcessingRegularRequestsService : Получил в сервис данные о кол-ве сообщений в треде и замапил в инт 3
2024-10-19T08:59:41.686Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] i.t.s.a.ProcessingRegularRequestsService : Running thread with ID: thread_36JMP7EjuP2RxrD1RN7uqrTj
2024-10-19T08:59:50.409Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] c.i.t.mapper.OpenAiMapper                : Найденные ID файлов: {Приложение 2.pdf=file-rkCV9jTNvn0aL80bzizhXmFx, Методические рекомендации по организации контроля качества фритюрных жиров на предприятиях питания.pdf=file-l2QjrVfoGDxNMdxvF16gWnkc, БЛИННИЦА Roller Grill CSE_350_400_CDE_350_400__G03251.pdf=file-BpnSrRk64gEM0LnoAW2npxXt, Уборка и чек-листы.docx=file-JVxD3YMTSTePaJZsCAnUl19W, Безопасность продуктов питания от бактерий.docx=file-xaTPXc68MEqRW0y6PI1iU7Y5}
2024-10-19T08:59:50.409Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] .i.t.s.a.ProcessingSearchRequestsService : Зашёл в метод двойного названию, имя файла: и расширение: Приложение 2.pdf, pdf
2024-10-19T08:59:50.410Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] .i.t.s.a.ProcessingSearchRequestsService : Итоговая мапа с разными вариантами названий с расширениями: Приложение 2.pdf
2024-10-19T08:59:50.411Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] .i.t.s.a.ProcessingSearchRequestsService : Файл найден: Приложение 2.pdf
2024-10-19T08:59:50.857Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] c.i.t.c.TelegramWebhookConfiguration     : Файл отправлен: Приложение 2.pdf
2024-10-19T08:59:50.857Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] .i.t.s.a.ProcessingSearchRequestsService : Зашёл в метод двойного названию, имя файла: и расширение: Методические рекомендации по организации контроля качества фритюрных жиров на предприятиях питания.pdf, pdf
2024-10-19T08:59:50.858Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] .i.t.s.a.ProcessingSearchRequestsService : Итоговая мапа с разными вариантами названий с расширениями: Методические рекомендации по организации контроля качества фритюрных жиров на предприятиях питания.pdf
2024-10-19T08:59:50.858Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] .i.t.s.a.ProcessingSearchRequestsService : Файл найден: Методические рекомендации по организации контроля качества фритюрных жиров на предприятиях питания.pdf
2024-10-19T08:59:51.238Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] c.i.t.c.TelegramWebhookConfiguration     : Файл отправлен: Методические рекомендации по организации контроля качества фритюрных жиров на предприятиях питания.pdf
2024-10-19T08:59:51.239Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] .i.t.s.a.ProcessingSearchRequestsService : Зашёл в метод двойного названию, имя файла: и расширение: БЛИННИЦА Roller Grill CSE_350_400_CDE_350_400__G03251.pdf, pdf
2024-10-19T08:59:51.239Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] .i.t.s.a.ProcessingSearchRequestsService : Итоговая мапа с разными вариантами названий с расширениями: БЛИННИЦА Roller Grill CSE_350_400_CDE_350_400__G03251.pdf
2024-10-19T08:59:51.240Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] .i.t.s.a.ProcessingSearchRequestsService : Файл найден: БЛИННИЦА Roller Grill CSE_350_400_CDE_350_400__G03251.pdf
2024-10-19T08:59:51.601Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] c.i.t.c.TelegramWebhookConfiguration     : Файл отправлен: БЛИННИЦА Roller Grill CSE_350_400_CDE_350_400__G03251.pdf
2024-10-19T08:59:51.601Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] .i.t.s.a.ProcessingSearchRequestsService : Зашёл в метод двойного названию, имя файла: и расширение: Уборка и чек-листы.docx, docx
2024-10-19T08:59:51.601Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] .i.t.s.a.ProcessingSearchRequestsService : Итоговая мапа с разными вариантами названий с расширениями: Уборка и чек-листы.docx, Уборка и чек-листы.doc
2024-10-19T08:59:51.605Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] .i.t.s.a.ProcessingSearchRequestsService : Файл найден: Уборка и чек-листы.docx
2024-10-19T08:59:51.735Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] c.i.t.c.TelegramWebhookConfiguration     : Файл отправлен: Уборка и чек-листы.docx
2024-10-19T08:59:51.735Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] .i.t.s.a.ProcessingSearchRequestsService : Зашёл в метод двойного названию, имя файла: и расширение: Безопасность продуктов питания от бактерий.docx, docx
2024-10-19T08:59:51.735Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] .i.t.s.a.ProcessingSearchRequestsService : Итоговая мапа с разными вариантами названий с расширениями: Безопасность продуктов питания от бактерий.docx, Безопасность продуктов питания от бактерий.doc
2024-10-19T08:59:51.737Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] .i.t.s.a.ProcessingSearchRequestsService : Файл найден: Безопасность продуктов питания от бактерий.docx
2024-10-19T08:59:51.832Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] c.i.t.c.TelegramWebhookConfiguration     : Файл отправлен: Безопасность продуктов питания от бактерий.docx
2024-10-19T08:59:51.832Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] c.i.t.service.impl.TelegramServiceImpl   : Команд не было в сообщение - оно ушло в обработку LLM Мытье блинницы
2024-10-19T08:59:51.832Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-9] c.i.t.service.impl.TelegramServiceImpl   : Были оправлены сообщения команд в чат
2024-10-19T14:29:08.687Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-1] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829033,
"message":{"message_id":20,"from":{"id":5239813235,"is_bot":false,"first_name":"Aleksandra"},"chat":{"id":-1002188935502,"title":"Kirill & Andrew, zorinovvvvvv","username":"vvvvvtgg","type":"supergroup"},"date":1729348148,"new_chat_participant":{"id":5239813235,"is_bot":false,"first_name":"Aleksandra"},"new_chat_member":{"id":5239813235,"is_bot":false,"first_name":"Aleksandra"},"new_chat_members":[{"id":5239813235,"is_bot":false,"first_name":"Aleksandra"}]}}
2024-10-19T14:29:08.689Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-1] c.i.t.service.impl.TelegramServiceImpl   : Получено сообщение без текста или это системное сообщение. WebhookPayloadDto(updateId=562829033, message=WebhookPayloadDto.MessageDto(messageId=20, from=WebhookPayloadDto.UserDto(id=5239813235, isBot=false, firstName=Aleksandra, lastName=null, username=null, languageCode=null, isPremium=null), chat=WebhookPayloadDto.ChatDto(id=-1002188935502, firstName=null, lastName=null, username=vvvvvtgg, type=supergroup, title=Kirill & Andrew, zorinovvvvvv, isPremium=null, allMembersAreAdministrators=null), date=1729348148, text=null, entities=null, linkPreviewOptions=null, messageThreadId=null, replyToMessage=null, document=null, newChatParticipant=WebhookPayloadDto.UserDto(id=5239813235, isBot=false, firstName=Aleksandra, lastName=null, username=null, languageCode=null, isPremium=null), newChatMember=WebhookPayloadDto.UserDto(id=5239813235, isBot=false, firstName=Aleksandra, lastName=null, username=null, languageCode=null, isPremium=null), leftChatParticipant=null, leftChatMember=null, newChatMembers=[WebhookPayloadDto.UserDto(id=5239813235, isBot=false, firstName=Aleksandra, lastName=null, username=null, languageCode=null, isPremium=null)]), myChatMember=null, migrateFromChatId=null, senderChat=null)
2024-10-19T19:39:55.975Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-3] c.i.t.mapper.WebhookMapper               : raw payload: {"update_id":562829034,
"message":{"message_id":23,"from":{"id":5239813235,"is_bot":false,"first_name":"Aleksandra"},"chat":{"id":-1002188935502,"title":"Kirill & Andrew, zorinovvvvvv","username":"vvvvvtgg","type":"supergroup"},"date":1729366795,"left_chat_participant":{"id":5239813235,"is_bot":false,"first_name":"Aleksandra"},"left_chat_member":{"id":5239813235,"is_bot":false,"first_name":"Aleksandra"}}}
2024-10-19T19:39:55.977Z  INFO 1 --- [TelegramBotForPapaBlinov] [nio-8092-exec-3] c.i.t.service.impl.TelegramServiceImpl   : Получено сообщение без текста или это системное сообщение. WebhookPayloadDto(updateId=562829034, message=WebhookPayloadDto.MessageDto(messageId=23, from=WebhookPayloadDto.UserDto(id=5239813235, isBot=false, firstName=Aleksandra, lastName=null, username=null, languageCode=null, isPremium=null), chat=WebhookPayloadDto.ChatDto(id=-1002188935502, firstName=null, lastName=null, username=vvvvvtgg, type=supergroup, title=Kirill & Andrew, zorinovvvvvv, isPremium=null, allMembersAreAdministrators=null), date=1729366795, text=null, entities=null, linkPreviewOptions=null, messageThreadId=null, replyToMessage=null, document=null, newChatParticipant=null, newChatMember=null, leftChatParticipant=WebhookPayloadDto.UserDto(id=5239813235, isBot=false, firstName=Aleksandra, lastName=null, username=null, languageCode=null, isPremium=null), leftChatMember=WebhookPayloadDto.UserDto(id=5239813235, isBot=false, firstName=Aleksandra, lastName=null, username=null, languageCode=null, isPremium=null), newChatMembers=null), myChatMember=null, migrateFromChatId=null, senderChat=null)
